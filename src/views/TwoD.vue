<template>
		<div id="mapView" class="mapView">
      <div id="chart1" ></div>
      <a-button @click="closeChart" id="chart1_button" >ÂÖ≥Èó≠</a-button>
      <div id="measure">
        <button class="esri-icon-globe esri-widget esri-widget--button esri-interactive" @click="toThreeD"></button>
        <button class="esri-icon-polyline esri-widget esri-widget--button esri-interactive" title="wer" @click="drawLine(view,lineLayer)"></button>
        <button class="esri-icon-polygon esri-widget esri-widget--button esri-interactive" @click="drawPolygon(view,polygonLayer)"></button>
        <button class="esri-icon-table esri-widget esri-widget--button esri-interactive" @click="showLayer"></button>
        <button class="esri-icon-media esri-widget esri-widget--button esri-interactive" @click="swipe"></button>
      </div>
  <div id="enjoy-css">
    <div id="checkFont">
      <!-- <h5>ÈÅ•ÊÑüÂΩ±ÂÉè</h5>
      <h5>Â±ÄÈÉ®Áü¢Èá?</h5>
      <h5>Êï¥‰ΩìÁü¢Èáè</h5> -->
      <h5>ÈÅ•ÊÑü</h5>
      <h5>Â±ÄÈÉ?</h5>
      <h5>Êï¥‰Ωì</h5>
    </div>

    <a-form  id="check">
      <!-- <a-form-item label="ÂîêÂ±±ÊõπÂ¶ÉÁî∏ÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫" id="layer1" style="margin: 0px;"> -->
      <a-form-item label="ÂîêÂ±±ÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫" id="layer1" style="margin: 0px;padding: 0px;">
        <a-checkbox name="type" id="layer11" v-model:checked="state.check11" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer12" v-model:checked="state.check12" style="margin-left: 15px;"></a-checkbox>
        <a-checkbox name="type" id="layer13" v-model:checked="state.check13" style="margin-left: 15px;"></a-checkbox>
        <a-button @click="() => goToLayer([39603591.85559774,4306998.635729584,39662204.327045925,4355838.120180096],4527,view)" style="margin-left: 15px;">ÂÆö‰Ωç</a-button>
      </a-form-item>
      <a-form-item label="Ê≠¶Ê±âÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫" id="layer2" style="margin:0px">
        <a-checkbox name="type" id="layer21" v-model:checked="state.check21" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer22" v-model:checked="state.check22" style="margin-left: 15px;"></a-checkbox>
        <a-checkbox name="type" id="layer23" v-model:checked="state.check23" style="margin-left: 15px;"></a-checkbox>
        <a-button @click="() => goToLayer([38509351.349480346,3369125.9215750205,38524004.46734239,3378510.788633632],4526,view)" style="margin-left: 15px;">ÂÆö‰Ωç</a-button>
      </a-form-item>
      <a-form-item label="ÊàêÈÉΩÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫" id="layer3">
        <a-checkbox name="type" id="layer31" v-model:checked="state.check31" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer32" v-model:checked="state.check32" style="margin-left: 15px;" disabled></a-checkbox>
        <a-checkbox name="type" id="layer33" v-model:checked="state.check33" style="margin-left: 15px;" disabled></a-checkbox>
        <a-button @click="() => goToLayer([35419064.14450003,3374737.753952593,35433717.26236208,3389085.465970963],4523,view)" style="margin-left: 15px;">ÂÆö‰Ωç</a-button>
      </a-form-item>
      <a-form-item label="Âæ∑Èò≥ÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫" id="layer4">
        <a-checkbox name="type" id="layer41" v-model:checked="state.check41" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer42" v-model:checked="state.check42" style="margin-left: 15px;" disabled></a-checkbox>
        <a-checkbox name="type" id="layer43" v-model:checked="state.check43" style="margin-left: 15px;" disabled></a-checkbox>
        <a-button @click="() => goToLayer([35435288.82994539,3432745.776386071,35446849.713640206,3447398.8942481177],4523,view)" style="margin-left: 15px;">ÂÆö‰Ωç</a-button>
      </a-form-item>
      <a-form-item label="ÁªµÈò≥ÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫" id="layer5">
        <a-checkbox name="type" id="layer51" v-model:checked="state.check51" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer52" v-model:checked="state.check52" style="margin-left: 15px;"></a-checkbox>
        <a-checkbox name="type" id="layer53" v-model:checked="state.check53" style="margin-left: 15px;"></a-checkbox>
        <a-button @click="() => goToLayer([35474962.957825616,3470310.695158392,35485474.008932784,3484963.813020439],4523,view)" style="margin-left: 15px;">ÂÆö‰Ωç</a-button>
      </a-form-item>
      <a-form-item label="ÂπøÂÖÉÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫" id="layer6">
        <a-checkbox name="type" id="layer61" v-model:checked="state.check61" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer62" v-model:checked="state.check62" style="margin-left: 15px;" disabled></a-checkbox>
        <a-checkbox name="type" id="layer63" v-model:checked="state.check63" style="margin-left: 15px;" disabled></a-checkbox>
        <a-button @click="() => goToLayer([35558905.02649106,3573407.436581981,35585462.60962206,3602713.672306075],4523,view)" style="margin-left: 15px;">ÂÆö‰Ωç</a-button>
      </a-form-item>
      <a-form-item label="ÈÅÇÂÆÅÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫" id="layer7">
        <a-checkbox name="type" id="layer71" v-model:checked="state.check71" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer72" v-model:checked="state.check72" style="margin-left: 15px;" disabled></a-checkbox>
        <a-checkbox name="type" id="layer73" v-model:checked="state.check73" style="margin-left: 15px;" disabled></a-checkbox>
        <a-button @click="() => goToLayer([35537908.37473824,3362333.8228704324,35567214.61046233,3391105.5983680915],4523,view)" style="margin-left: 15px;">ÂÆö‰Ωç</a-button>
      </a-form-item>
      <!-- <a-form-item label="Èî¶Â∑û‰∏ÉÈáåÊ≤≥ÁªèÊµéÂºÄÂèëÂå∫" id="layer8"> -->
      <a-form-item label="Èî¶Â∑ûÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫" id="layer8">
        <a-checkbox name="type" id="layer81" v-model:checked="state.check81" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer82" v-model:checked="state.check82" style="margin-left: 15px;"></a-checkbox>
        <a-checkbox name="type" id="layer83" v-model:checked="state.check83" style="margin-left: 15px;"></a-checkbox>
        <a-button @click="() => goToLayer([40600864.41565077,4574513.4762480585,40608190.97458179,4581038.344839429],4528,view)" style="margin-left: 15px;">ÂÆö‰Ωç</a-button>
      </a-form-item>
      <!-- <a-form-item label="Ê≤≥ÂåóËøÅÂÆâÈ´òÊñ∞ÊäÄÊúØ‰∫ß‰∏öÂºÄÂèëÂå∫" id="layer9"> -->
      <a-form-item label="ËøÅÂÆâÊäÄÊúØ‰∫ß‰∏öÂºÄÂèëÂå∫" id="layer9">
        <a-checkbox name="type" id="layer91" v-model:checked="state.check91" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer92" v-model:checked="state.check92" style="margin-left: 15px;"></a-checkbox>
        <a-checkbox name="type" id="layer93" v-model:checked="state.check93" style="margin-left: 15px;"></a-checkbox>
        <a-button @click="() => goToLayer([40386432.92831738,4425772.877103163,40397001.24302025,4440425.994965211],4528,view)" style="margin-left: 15px;">ÂÆö‰Ωç</a-button>
      </a-form-item>
    </a-form>
  </div>
    </div>
</template>



<script  lang="ts" setup name="TwoD">
import {onMounted, ref} from 'vue'
import { reactive, toRaw } from 'vue';
import type { UnwrapRef } from 'vue';
import { useRouter } from 'vue-router'
const router = useRouter()


import Map from '@arcgis/core/Map'
import MapView from '@arcgis/core/views/MapView'
import GraphicsLayer from '@arcgis/core/layers/GraphicsLayer'
import '@arcgis/core/assets/esri/themes/light/main.css'
import ScaleBar from '@arcgis/core/widgets/ScaleBar'
import Expand from '@arcgis/core/widgets/Expand'
import Editor from "@arcgis/core/widgets/Editor.js";
import Sketch from '@arcgis/core/widgets/Sketch'
import WMSLayer from "@arcgis/core/layers/WMSLayer.js";
import WFSLayer from "@arcgis/core/layers/WFSLayer.js";
import Popup from "@arcgis/core/widgets/Popup.js";
import Search from '@arcgis/core/widgets/Search'
import BasemapGallery from '@arcgis/core/widgets/BasemapGallery'
import Graphic from '@arcgis/core/Graphic';
import Draw from '@arcgis/core/views/draw/Draw';
import * as GeometryEngine from "@arcgis/core/geometry/geometryEngine.js";
import Point from '@arcgis/core/geometry/Point';
import Polyline from '@arcgis/core/geometry/Polyline';
import Polygon from '@arcgis/core/geometry/Polygon';
import Color from '@arcgis/core/Color';
import SimpleLineSymbol from '@arcgis/core/symbols/SimpleLineSymbol';
import Extent from "@arcgis/core/geometry/Extent.js";
import Query from "@arcgis/core/rest/support/Query.js";
import SpatialReference from "@arcgis/core/geometry/SpatialReference.js";
import FeatureLayer from "@arcgis/core/layers/FeatureLayer.js";
import html2canvas from "html2canvas";
import printJS from 'print-js'
import Print from "@arcgis/core/widgets/Print.js";
import Swipe from "@arcgis/core/widgets/Swipe.js";
import * as echarts from "echarts";
import * as reactiveUtils from "@arcgis/core/core/reactiveUtils.js";

import drawLine from "../class/TwoD/drawLine"
import drawPolygon from "../class/TwoD/drawPolygon"
import goToLayer from "../class/TwoD/goToLayer"





let map:any,view:any
let G131056:any
let G131056_shpv:any
let G421032:any
let G421032_shpv:any
let G511040:any
let G511040_shpv:any
let G511191:any
let G511191_shpv:any
let G511192:any
let G511192_shpv:any
let G511193:any
let G511193_shpv:any
let G511194:any
let G511194_shpv:any
let S217057:any
let S217057_shpv:any
let S138066:any
let S138066_shpv:any
const state = reactive({
  check11: true,
  check12: true,
  check13: true,

  check21: true,
  check22: true,
  check23: true,

  check31: true,
  check32: true,
  check33: true,

  check41: true,
  check42: true,
  check43: true,

  check51: true,
  check52: true,
  check53: true,

  check61: true,
  check62: true,
  check63: true,

  check71: true,
  check72: true,
  check73: true,

  check81: true,
  check82: true,
  check83: true,

  check91: true,
  check92: true,
  check93: true,
});
// const area = [14481841.441842116,7511535.580789766,9991808.539417403,1391143.286247395,9050000.000000000,1210000.000000000,3490000.000000000,4200000.000000000,10824778.160252398,2601408.432584364,3370000.000000000,910000.000000000,2365695.4716045866,663867.0667789616,2855695.4716045866,713867.0667789616,21388301.69222088,2800776.3784365905
// ]
const area = [1448,751,999,139,905,121,349,42,1082,260,337,91,236,66,285,71,2138,280]
var lineLayer = new GraphicsLayer() //ÁºÅÊ®∫ÂüóÁªæÂûÆÊµòÈî????
var polygonLayer = new GraphicsLayer() //ÁºÅÊ®∫ÂüóÈóà„à†ÊµòÈî????
    onMounted(() => {
        function initMap() {
            const graphicsLayer = new GraphicsLayer();
            map = new Map({
              basemap: "topo-vector",
              layers: [graphicsLayer,lineLayer,polygonLayer]
            });

            view = new MapView({ //MapViewÊ∂ìËΩ∞Á∞©ÁºÅËææÁ¥ùSceneViewÊ∂ìËΩ∞Á¨ÅÈîü????
              container: 'mapView',
              map: map,
              zoom: 4,  //ÁºÇ‚ïÇÊñÅÈîü????
              center: [104, 34], // ÁºÅÂøìÂÆ?, ÁªæÓÑÄÂÆ?
            })
            const basemapGallery = new BasemapGallery({
                  view: view,
                  source: {
                    portal: {
                      url: "https://www.arcgis.com",
                      useVectorBasemaps: true, // Load vector tile basemaps
                    }
                  }
            });
            const basemapGalleryExpand = new Expand({
            view: view,
            content: basemapGallery,
            expandIconClass: "esri-icon-basemap" // ÈîüÁöÜËÆπÊã∑ÈîüÊñ§Êã∑Â±ïÈîüÊñ§Êã∑ÂõæÈîüÊñ§Êã?
            });
            const scaleBar = new ScaleBar({
              view: view,
              unit: 'metric',
            })
            const sketch = new Sketch({
              view,
              layer: graphicsLayer,
              creationMode: "update"
            });
            const sketchExpand = new Expand({
              view: view,
              content: sketch,
              expandIconClass: "esri-icon-cursor-marquee" // ÈîüÁöÜËÆπÊã∑ÈîüÊñ§Êã∑Â±ïÈîüÊñ§Êã∑ÂõæÈîüÊñ§Êã?
            });
            const search = new Search({
                view: view
            });
            const layers:any = {}; // ÈîüÊñ§Êã∑ÈîüÊñ§Êã∑‰∏ÄÈîüÊñ§Êã∑ÈîüÊñ§Êã∑ÈîüÊñ§Êã∑ÈîüÊñ§Êã∑ÈîüËä•ÂÇ®ÈîüÊñ§Êã∑ÈîüÂè´Á¢âÊã∑ÂõæÈîüÊñ§Êã∑
            function addWMS(name:string,bbox:number[],wkid:number){
                layers[name] = new WMSLayer({ // ‰ΩøÈîüÁü´Âá§Êã∑ÈîüÊñ§Êã∑ÈîüÊñ§Êã∑ÈîüÊñ§Êã∑‰ΩøÈîüÁü´ÊÜãÊã∑ÈîüÊñ§Êã∑ÈîüÊñ§Êã∑‰∏∫ÈîüÊñ§Êã∑ÈîüÊñ§Êã∑ÈîüÊñ§Êã?
                    url: 'http://localhost:8080/geoserver/wms',
                    sublayers: [
                        {
                            name: name
                        }
                    ]
                });

                map.add(layers[name]); // ÈîüÊñ§Êã∑ÈîüÊé•ËÆπÊã∑Â∫îÈîüÊñ§Êã∑ÂõæÈîüÂßêÂà∞ÈîüÊñ§Êã∑ÂõæÈîüÊñ§Êã∑
                view.when(function() {
                var extent = new Extent({
                    xmin: bbox[0],
                    ymin: bbox[1],
                    xmax: bbox[2],
                    ymax: bbox[3],
                    spatialReference: { wkid:wkid }
                });
                view.goTo(extent).then(function() {
                    view.zoom = view.zoom * 1.1; // ÁºÇ‚ïÅÁö¨ÈçíÊùøÂ∏´Èèâ„ÉßÊÆ?50%
                });
            });
            return layers[name]
            }
            // console.log(layers)
            G131056 = addWMS('test:G131056',[39603591.85559774,4306998.635729584,39662204.327045925,4355838.120180096],4527)        
            G131056_shpv = addWMS('test:G131056.shpv',[39603591.85559774,4306998.635729584,39662204.327045925,4355838.120180096],4527)        
            // addWMS('test:G131056_result',[39603591.85559774,4306998.635729584,39662204.327045925,4355838.120180096],4527)

            G421032 = addWMS('test:G421032',[38509351.349480346,3369125.9215750205,38524004.46734239,3378510.788633632],4526)
            G421032_shpv = addWMS('test:G421032.shpv',[38509351.349480346,3369125.9215750205,38524004.46734239,3378510.788633632],4526)
            
            G511040 = addWMS('test:G511040',[35419064.14450003,3374737.753952593,35433717.26236208,3389085.465970963],4523)
            // G511040_shpv = addWMS('test:G511040.shpv',[35419064.14450003,3374737.753952593,35433717.26236208,3389085.465970963],4523)
            
            G511191 = addWMS('test:G511191',[35435288.82994539,3432745.776386071,35446849.713640206,3447398.8942481177],4523)
            // G511191_shpv = addWMS('test:G511191.shpv',[35435288.82994539,3432745.776386071,35446849.713640206,3447398.8942481177],4523)
            
            G511192 = addWMS('test:G511192',[35474962.957825616,3470310.695158392,35485474.008932784,3484963.813020439],4523)
            G511192_shpv = addWMS('test:G511192.shpv',[35474962.957825616,3470310.695158392,35485474.008932784,3484963.813020439],4523)
            
            G511193 = addWMS('test:G511193',[35558905.02649106,3573407.436581981,35585462.60962206,3602713.672306075],4523)
            // G511193_shpv = addWMS('test:G511193.shpv',[35558905.02649106,3573407.436581981,35585462.60962206,3602713.672306075],4523)
            
            G511194 = addWMS('test:G511194',[35537908.37473824,3362333.8228704324,35567214.61046233,3391105.5983680915],4523)
            // G511194_shpv = addWMS('test:G511194.shpv',[35537908.37473824,3362333.8228704324,35567214.61046233,3391105.5983680915],4523)
            
            S217057 = addWMS('test:S217057',[40600864.41565077,4574513.4762480585,40608190.97458179,4581038.344839429],4528)
            S217057_shpv = addWMS('test:S217057.shpv',[40600864.41565077,4574513.4762480585,40608190.97458179,4581038.344839429],4528)
            
            S138066 = addWMS('test:S138066',[40386432.92831738,4425772.877103163,40397001.24302025,4440425.994965211],4528)
            S138066_shpv = addWMS('test:S138066.shpv',[40385507.16685374,4425639.262046554,40395560.1091954,4440292.379908602],4528)
            
            // console.log(a)
            // const editor = new Editor({
            //   view: view, // ÈîüËä•Êç¢‰∏∫ÈîüÊñ§Êã∑Èîü‰æ•Á¢âÊã∑ÂõæÈîüÊñ§Êã∑Âõæ
            //   layerInfos: [{
            //     layer: a,
            //   }]
            // });

            // view.ui.add(editor, 'top-right'); // ÈîüÊñ§Êã∑ÈîüÊ¥ÅËæëÈîüÊñ§Êã∑ÈîüÊñ§Êã∑ÈîüÊé•Á¢âÊã∑ UI ÈîüÊñ§Êã?
            // Add the widget to the view
            view.ui.move('zoom', 'bottom-right') // Â®£ËØ≤ÂßûÁºÇ‚ïÇÊñÅÈé∫—ÇÊ¨¢
            view.ui.add(search, "top-right");
            view.ui.add(scaleBar, { position: 'bottom-left' }) // Â®£ËØ≤ÂßûÂß£ÊñæÁ∑•Èî?????
            view.ui.add(sketchExpand, "top-right");
            view.ui.add(basemapGalleryExpand, { position: "top-right" });
            view.ui.components = [];
            addChangeEventListener("layer11",G131056);
            addChangeEventListener("layer12",G131056_shpv);
            addChangeEventListener("layer21",G421032);
            addChangeEventListener("layer22",G421032_shpv);
            addChangeEventListener("layer31",G511040);
            addChangeEventListener("layer32",G511040_shpv);
            addChangeEventListener("layer41",G511191);
            addChangeEventListener("layer42",G511191_shpv);
            addChangeEventListener("layer51",G511192);
            addChangeEventListener("layer52",G511192_shpv);
            addChangeEventListener("layer61",G511193);
            addChangeEventListener("layer62",G511193_shpv);
            addChangeEventListener("layer71",G511194);
            addChangeEventListener("layer72",G511194_shpv);
            addChangeEventListener("layer81",S217057);
            addChangeEventListener("layer82",S217057_shpv);
            addChangeEventListener("layer91",S138066);
            addChangeEventListener("layer92",S138066_shpv);

            var point = [{
                    "geometry": {
                      "x": 118.46203717528095,
                      "y": 39.08851358018042,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ÁõëÊµãÁ´?",
                      // "name": "ÂîêÂ±±ÊõπÂ¶ÉÁî∏ÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫",
                      "name": "ÂîêÂ±±ÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫",
                      "pop": "4000",
                      "x": "118.46203717528095",
                      "y": "39.08851358018042",
                      "url":"../../public/images/G131056.png",
                      "article":"‰∏≠ÂõΩÔºàÊ≤≥ÂåóÔºâËá™Áî±Ë¥∏ÊòìËØïÈ™åÂå∫ÊõπÂ¶ÉÁî∏ÁâáÂå∫‰∫?2019Âπ?8Êú?31Êó•ÊåÇÁâåÊàêÁ´ãÔºåÊòØÊ≤≥ÂåóËá™Ë¥∏Âå∫ÂîØ‰∏ÄÊ≤øÊµ∑ÁâáÂå∫ÔºåÊÄªÈù¢Áß?33.48Âπ≥ÊñπÂÖ¨ÈáåÔºå‰∏úËá≥ÊõπÂ¶ÉÁî∏Êñ∞ÂüéÁªøÁè†Ê≤≥Ë•øÂ≤∏„ÄÅÈùíË£≥Ê≤≥Ë•øÂ≤∏ÔºåÂçóËá≥Á∫≥ÊΩÆÊ≤≥ÂåóÂ≤∏Á∫ø„ÄÅ‰∏âÂè∑Ê∏ØÊ±†Â≤∏Á∫øÔºåË•øËá≥Â∑•‰∏öÂå∫È´òÊñ∞Â§ßË°óÔºåÂåóËá≥ÊõπÂ¶ÉÁî∏Â∑•‰∏öÂå∫ÂåóËæπË∑Ø„ÄÅÊõπÂ¶ÉÁî∏Êñ∞ÂüéÊñ∞Ê∏ØÂ§ßÈÅì„ÄÇÈáçÁÇπÂèëÂ±ïÂõΩÈôÖÂ§ßÂÆóÂïÜÂìÅË¥∏Êòì„ÄÅÊ∏ØËà™ÊúçÂä°„ÄÅËÉΩÊ∫êÂÇ®ÈÖç„ÄÅÈ´òÁ´ØË£ÖÂ§áÂà∂ÈÄ†Á≠â‰∫ß‰∏öÔºåÂª∫ËÆæ‰∏úÂåó‰∫öÁªèÊµéÂêà‰ΩúÂºïÈ¢ÜÂå∫„ÄÅ‰∏¥Ê∏ØÁªèÊµéÂàõÊñ∞Á§∫ËåÉÂå∫„Ä?",
                      "article2":"ÊõπÂ¶ÉÁî∏ÁâáÂå∫ËÇ©Ë¥ü‚Äú‰∏∫ÂõΩÂÆ∂ËØïÂà∂Â∫¶„ÄÅ‰∏∫Âú∞ÊñπË∞ãÂèëÂ±ï‚ÄùÁöÑËÅåË¥£‰ΩøÂëΩÔºåÂùöÊåÅ‚ÄúÂ§ßËÉÜËØï„ÄÅÂ§ßËÉÜÈóØ„ÄÅËá™‰∏ªÊîπ‚ÄùÔºåËÅöÁÑ¶ÁâáÂå∫ÂäüËÉΩÂÆö‰ΩçÔºåÂùöÊåÅÊîπÈù©ÂàõÊñ∞„ÄÅÂÖàË°åÂÖàËØïÔºå‰ª•Âà∂Â∫¶ÂàõÊñ∞‰∏∫Ê†∏ÂøÉÔºåÁßØÊûÅËΩ¨ÂèòÊîøÂ∫úËÅåËÉΩÔºåÂ§ßÂäõÂºÄÂ±ïÊãõÂïÜÂºïËµÑÔºåÊåÅÁª≠Êé®ËøõÈáëËûçÂºÄÊîæÔºåËÅöÂäõÂèëÂ±ï‰ºòÂäø‰∫ß‰∏öÔºåÊé®Âä®ÂêÑÈ°πÂ∑•‰ΩúÂèñÂæóÊòæËëóÊàêÊïàÔºå2020„Ä?2021„Ä?2022Âπ¥ËøûÁª≠‰∏âÂπ¥Âú®ÂÖ®ÁúÅÂõõ‰∏™ÁâáÂå∫‰∏≠ÊéíÂêçÁ¨¨‰∏Ä„Ä?"
                    },
                  }, {
                    "geometry": {
                      "x": 114.17705389463079,
                      "y": 30.482969789502164,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ÁõëÊµãÁ´?",
                      "name": "Ê≠¶Ê±âÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫",
                      "pop": "4000",
                      "x": "114.17705389463079",
                      "y": "30.482969789502164",
                      "url":"../../public/images/G421032.png",
                      "article":"Ê≠¶Ê±âÁªèÂºÄÂå∫‰Ωç‰∫éÊ≠¶Ê±âË•øÂçóÔºå1991Âπ?5ÊúàÂä®Â∑•ÂÖ¥Âª∫Ôºå1993Âπ?4ÊúàÁªèÂõΩÂä°Èô¢ÊâπÂáÜ‰∏∫ÂõΩÂÆ∂Á∫ßÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫Ôº?2000Âπ?4ÊúàÁªèÂõΩÂä°Èô¢ÊâπÂáÜÂú®ÁªèÂºÄÂå∫ÂÜÖËÆæÁ´ãÊ≠¶Ê±âÂá∫Âè£Âä†Â∑•Âå∫Ôºå2018Âπ?11ÊúàÂçáÁ∫ß‰∏∫Ê≠¶Ê±âÁªèÂºÄÁªºÂêà‰øùÁ®éÂå∫„ÄÇÁªèËø?30Â§öÂπ¥ÁöÑÂèëÂ±ïÔºåÊ≠¶Ê±âÁªèÂºÄÂå∫ÈÄêÊ≠•ÂΩ¢Êàê‚Ä?3335‚ÄùÁé∞‰ª£‰∫ß‰∏ö‰ΩìÁ≥ªÔºöÊ±ΩËΩ¶Âà∂ÈÄ†„ÄÅÁîµÂ≠êÁîµÂô®„ÄÅÈ£üÂìÅÈ•ÆÊñ?3Â§ß‰ºòÂäø‰∫ß‰∏ö„ÄÅÊñ∞ËÉΩÊ∫ê‰∏éÊô∫ËÉΩÁΩëËÅîÊ±ΩËΩ¶„ÄÅÊñ∞ËÉΩÊ∫ê„ÄÅÊñ∞ÊùêÊñô3Â§ßÊàòÁï•‰∫ß‰∏ö„ÄÅÊï∞Â≠óÁªèÊµé„ÄÅÁé∞‰ª£ÊúçÂä°„ÄÅÂ§ßÂÅ•Â∫∑3Â§ßÈáçÁÇπÂèëÂ±ï‰∫ß‰∏ö„ÄÅÈ´òÁ´ØË£ÖÂ§á„ÄÅÊô∫ËÉΩÂª∫ÈÄ†„ÄÅÈÄöÁî®Ëà™Á©∫„ÄÅÁé∞‰ª£Áâ©ÊµÅ„ÄÅÈ´òÁßëÊäÄÂÜú‰∏ö5Â§ßÁâπËâ≤‰∫ß‰∏öÔºåÊàê‰∏∫Ê≠¶Ê±âÂ∑•‰∏öÁªèÊµéÁöÑ‰∏ªÊàòÂú∫„Ä?",
                      "article2":"ÁªèËøá31Âπ¥ÂèëÂ±ïÔºåÂΩ¢Êàê‰∫Ü‰ª•Ê±ΩËΩ¶ÂèäÈõ∂ÈÉ®‰ª∂„ÄÅÁîµÂ≠êÁîµÂô®„ÄÅÈ£üÂìÅÈ•ÆÊñô„ÄÅÁîüÁâ©ÂåªËçØ‰∏∫Ê†∏ÂøÉÔºå‰ª•Êñ∞ËÉΩÊ∫ê„ÄÅÊñ∞ÊùêÊñô„ÄÅÊô∫ËÉΩË£ÖÂ§á„ÄÅÈÄöÁî®Ëà™Á©∫‰∏∫ÊîØÊíëÔºå‰ª•Áé∞‰ª£ÊúçÂä°‰∏ö‰∏∫Ë°•ÂÖÖÁöÑ‰∫ß‰∏ö‰ΩìÁ≥ªÔºåÂπ¥‰∫ßÊï¥ËΩ¶ËøëÁôæ‰∏áËæÜÔºåÂ∑•‰∏ö‰∫ßÂÄºË∂Ö3460‰∫øÂÖÉÔºåÂç†ÂÖ®Â∏Ç‰∫îÂàÜ‰πã‰∏ÄÔºåÂÆûÁé∞‰∫Ü‰ªé‚Äú‰∏ÄËæÜËΩ¶‚ÄùÂà∞‚Äú‰∏Ä‰∏™‰∫ß‰∏öÈõÜÁæ§‚ÄùÔºåÂÜçÂà∞‚Äú‰∏ÄÂ∫ßÊó∂‰ª£Êñ∞Âüé‚ÄùÁöÑËΩ¨ÂèòÔºåË¢´Áß∞‰∏∫‚Äú‰∏≠ÂõΩËΩ¶Ë∞∑‚Äù„Ä?"
                    },
                  }, {
                    "geometry": {
                      "x": 104.23607371241113,
                      "y": 30.561850267761542,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ÁõëÊµãÁ´?",
                      "name": "ÊàêÈÉΩÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫",
                      "pop": "4000",
                      "x": "104.23607371241113",
                      "y": "30.561850267761542"
                    },
                  }, {
                    "geometry": {
                      "x": 104.40265144128001,
                      "y": 31.09436026916168,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ÁõëÊµãÁ´?",
                      "name": "Âæ∑Èò≥ÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫",
                      "pop": "4000",
                      "x": "104.40265144128001",
                      "y": "31.09436026916168"
                    },
                  }, {
                    "geometry": {
                      "x": 104.77409116632978,
                      "y": 31.42437256683567,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ÁõëÊµãÁ´?",
                      "name": "ÁªµÈò≥ÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫",
                      "pop": "4000",
                      "x": "104.77409116632978",
                      "y": "31.42437256683567",
                      "url":"../../public/images/G511192.png",
                      "article":"ÁªµÈò≥ÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫ÔºàÁÆÄÁß∞ÁªµÈò≥ÁªèÂºÄÂå∫ÔºâÊàêÁ´ã‰∫?2000Âπ?8ÊúàÔºå2012Âπ?2Êúà‰∏éÁªµÈò≥ÁßëÊäÄÂüéÁé∞‰ª£ÂÜú‰∏öÁßëÊäÄÁ§∫ËåÉÂå∫Êï¥ÂêàÂêéÂ¢ûÊåÇÂÖ∂ÁâåÂ≠êÔºåÂêåÂπ¥10ÊúàÂçáÁ∫ß‰∏∫ÂõΩÂÆ∂Á∫ßÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫„ÄÇÁÆ°ËæñÂ°òÊ±õË°óÈÅìÂíåÊùæÂû≠ÈïáÔºåÊÄªÈù¢Áß?65Âπ≥ÊñπÂÖ¨ÈáåÔºåÁ∫≥ÂÖ•ÂüéÂ∏ÇÊéßËß?45Âπ≥ÊñπÂÖ¨ÈáåÔºåÂª∫ÊàêÂå∫Èù¢ÁßØ27.32Âπ≥ÊñπÂÖ¨ÈáåÔºå‰∏É‰∫∫ÊôÆ‰∫∫Âè£Á∫?16.7‰∏áÔºåÂ∏∏‰Ωè‰∫∫Âè£20‰Ωô‰∏á„ÄÇÁªµÈò≥ÁªèÂºÄÂå∫ÊòØÂõΩÂÆ∂Á∫ßÁªøËâ≤Â∑•‰∏öÂõ≠Âå∫„ÄÅÂõõÂ∑ùÁúÅ‰ºòÁßÄÂ∑•‰∏öÂõ≠Âå∫„ÄÅÂõõÂ∑ùÁúÅÊñ∞ÂûãÂ∑•‰∏öÁ§∫ËåÉÂü∫Âú∞ÔºåÊã•ÊúâÂõõÂ∑ùÁúÅÈ¶ñÊâπÂåñÂ∑•Âõ≠Âå∫„ÄÅÂõΩÂÆ∂Á∫ßËøûÊé•Âô®‰∏≠Â∞èÁâπËâ≤‰∫ß‰∏öÈõÜÁæ§ÔºåÊ≠£ÂêëÁùÄ‚ÄúÂä†Âø´Âª∫ÊàêÂçÉ‰∫øÂõ≠Âå∫„ÄÅÂ•ãÂäõÊå∫ËøõÂÖ®Âõ?50Âº∫ÔºåÊâìÈÄ†Ë•øÈÉ®È´òË¥®ÈáèÂèëÂ±ïÁ§∫ËåÉÂå∫‚ÄùÁöÑÁõÆÊ†áÈòîÊ≠•ÂâçË°å„Ä?2023Âπ¥ÔºåÂú∞Âå∫Áîü‰∫ßÊÄªÂÄºÂ¢ûÈï?9.8%ÔºåÂú∞Êñπ‰∏ÄËà¨ÂÖ¨ÂÖ±È¢ÑÁÆóÊî∂ÂÖ•Â¢ûÈï?10.0%ÔºåËßÑ‰∏äÂ∑•‰∏öÊÄª‰∫ßÂÄºÂ¢ûÈï?11.2%ÔºåÂÖ®Á§æ‰ºöÂõ∫ÂÆöËµÑ‰∫ßÊäïËµÑÂ¢ûÈïø10.0%„Ä?",
                      "article2":"ÂΩìÂâçÔºåÁªµÈò≥ÁªèÂºÄÂå∫Ê≠£ÂùöÊåÅ‰ª•‰π†ËøëÂπ≥Êñ∞Êó∂‰ª£‰∏≠ÂõΩÁâπËâ≤Á§æ‰ºö‰∏ª‰πâÊÄùÊÉ≥‰∏∫ÊåáÂØºÔºåÂÖ®Èù¢Ë¥ØÂΩªËêΩÂÆûÂÖöÁöÑ‰∫åÂçÅÂ§ßÁ≤æÁ•ûÂíå‰π†ËøëÂπ≥ÊÄª‰π¶ËÆ∞ÂØπÂõõÂ∑ùÂ∑•‰ΩúÁ≥ªÂàóÈáçË¶ÅÊåáÁ§∫Á≤æÁ•ûÔºåÂùöÊåÅÁ®≥‰∏≠Ê±ÇËøõÂ∑•‰ΩúÊÄªÂü∫Ë∞ÉÔºåÂÆåÊï¥„ÄÅÂáÜÁ°Æ„ÄÅÂÖ®Èù¢Ë¥ØÂΩªÊñ∞ÂèëÂ±ïÁêÜÂøµÔºåÁßØÊûÅËûçÂÖ•ÂíåÊúçÂä°ÊûÑÂª∫Êñ∞ÂèëÂ±ïÊ†ºÂ±ÄÔºåÂùöÊåÅÂàõÊñ∞ÂºïÈ¢ÜÔºåÊ∑±ÂÖ•Ë¥ØÂΩª‚Äú‰∫îÂ∏ÇÊàòÁï•‚ÄùÔºå‰ª•‚ÄúÂõ≠Âå∫ÊèêË¥®‚Äù‚Äú‰ºÅ‰∏öÊª°Âõ≠‚Äù‰∏∫ÊÄªÁâµÂºïÔºåÂä†Âø´Âª∫ÊàêÂçÉ‰∫øÂõ≠Âå∫„ÄÅÂ•ãÂäõÊå∫ËøõÂÖ®Âõ?50Âº∫ÔºåÊâìÈÄ†Ë•øÈÉ®È´òË¥®ÈáèÂèëÂ±ïÁ§∫ËåÉÂå∫Ôºå‰ª•‰∏ÄÂüü‰πãÂÖâ‰∏∫Âä†Âø´Âª∫ËÆæ‰∏≠ÂõΩÁßëÊäÄÂüé„ÄÅÂÖ®ÂäõÊâìÈÄ†ÊàêÊ∏ùÂâØ‰∏≠ÂøÉÊ∑ªÂΩ©„Ä?"
                    },
                  }, {
                    "geometry": {
                      "x": 105.804480188842,
                      "y": 32.425302129477664,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ÁõëÊµãÁ´?",
                      "name": "ÂπøÂÖÉÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫",
                      "pop": "4000",
                      "x": "105.804480188842",
                      "y": "32.425302129477664"
                    },
                  },{
                    "geometry": {
                      "x": 105.56522551350984,
                      "y": 30.51154606479028,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ÁõëÊµãÁ´?",
                      "name": "ÈÅÇÂÆÅÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫",
                      "pop": "4000",
                      "x": "105.56522551350984",
                      "y": "30.51154606479028"
                    },
                  },{
                    "geometry": {
                      "x": 121.250387039328,
                      "y": 41.3283199341745,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ÁõëÊµãÁ´?",
                      // "name": "Èî¶Â∑û‰∏ÉÈáåÊ≤≥ÁªèÊµéÂºÄÂèëÂå∫",
                      "name": "Èî¶Â∑ûÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫",
                      "pop": "4000",
                      "x": "121.250387039328",
                      "y": "41.3283199341745",
                      "url":"../../public/images/S217057.png",
                      "article":"Èî¶Â∑û‰∏ÉÈáåÊ≤≥È´òÊñ∞ÊäÄÊúØ‰∫ß‰∏öÂºÄÂèëÂå∫Êò?2019Âπ?1ÊúàÁªèÁúÅÊîøÂ∫úÊâπÂáÜÂª∫Á´ãÁöÑÁúÅÁ∫ßÈ´òÊñ∞Âå∫ÔºåÂå∫ÂüüÈù¢ÁßØ3.69Âπ≥ÊñπÂÖ¨ÈáåÔºåÈ´òÊñ∞Âå∫Êú™Áã¨Á´ãËÆæÁΩÆÊú∫ÊûÑÔºå‰∏éÂºÄÂèëÂå∫ÂêàÁΩ≤ÂäûÂÖ¨„ÄÇËé∑Âæó‚ÄúËæΩÂÆÅÁúÅÂìÅÁâåÊú∫ÁîµË£ÖÂ§á‰∫ß‰∏öÂü∫Âú∞‚Äù„ÄÅ‚ÄúÁúÅÁ∫ßÁ§∫ËåÉÂÜú‰∫ßÂìÅÂä†Â∑•ÈõÜËÅöÂå∫‚ÄùÁ≠âÁß∞Âè∑„ÄÇÈ´òÊñ∞Âå∫‰ª•Êñ∞ÂèëÂ±ïÁêÜÂøµ‰∏∫ÂºïÈ¢ÜÔºåÊé®Âä®Ë¥®ÈáèÂèòÈù©„ÄÅÊïàÁéáÂèòÈù©„ÄÅÂä®ÂäõÂèòÈù©ÔºåÊâìÈÄ†È´òÊñ∞Âå∫ÂìÅÁâåÔºåÂ∞ÜÈ´òÊñ∞Âå∫Âª∫ÊàêÂàõÊñ∞È©±Âä®ÂèëÂ±ïÁ§∫ËåÉÂå∫ÂíåÈ´òË¥®ÈáèÂèëÂ±ïÁöÑÂÖàË°åÂå∫„ÄÇÂÅöÂ•ΩÊîπÈÄ†ÂçáÁ∫ß‚ÄúËÄÅÂ≠óÂè∑‚Äù„ÄÅÊ∑±Â∫¶ÂºÄÂèë‚ÄúÂéüÂ≠óÂè∑‚Äù„ÄÅÂüπËÇ≤Â£ÆÂ§ß‚ÄúÊñ∞Â≠óÂè∑‚Äù‰∏âÁØáÂ§ßÊñáÁ´†ÔºåÂª∫Á´ãÁßëÊäÄÂûã‰ºÅ‰∏öÊ¢ØÂ∫¶ÂüπËÇ≤‰ΩìÁ≥ª„Ä?",
                      "article2":"ÊâìÈÄ†‚Ä?5G+Â∑•‰∏ö‰∫íËÅîÁΩë‚ÄùÁ§∫ËåÉÂõ≠Âå∫ÔºåÂª∫ËÆæÂõ≠Âå∫„ÄÅ‰ºÅ‰∏öËøêË°åÂ§ßÊï∞ÊçÆÂπ≥Âè∞Ôºå‰ª•Êï∞Â≠óÂåñËµãËÉΩÂ∑•‰∏ö‰ºÅ‰∏öËΩ¨ÂûãÔºåÂÆûÁé∞ÁßëÊäÄÂûã‰ºÅ‰∏öÂÖ®ÈÉ®‰∏ä‰∫ë„ÄÇÂÅöÂ§ßÂÅöÂº∫ÂºÄÂèëÂå∫‚Äú‰∏âÈô¢‰∏§Á´ô‰∏§Âü∫Âú∞‰∏ÄÂπ≥Âè∞‚ÄùÂäüËÉΩÔºåÂä†Âø´‰ºÅ‰∏ö„ÄÅÈ´òÊ†°„ÄÅÁßëÁ†îÊú∫ÊûÑ‚Äú‰∫ßÂ≠¶Á†î‚ÄùËûçÂêàËøõÁ®ãÔºåÊé®Ëøõ‚ÄúÂçöÂ£´ËøõÂõ≠Âå∫Ëøõ‰ºÅ‰∏ö‚ÄùÔºåÊê≠Âª∫È´òÁßëÊäÄ‰∫∫ÊâçÊúçÂä°‰ºÅ‰∏öÂπ≥Âè∞„Ä?"
                    },
                  },{
                    "geometry": {
                      "x": 118.74187637441389,
                      "y": 40.02908958980425,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ÁõëÊµãÁ´?",
                      // "name": "Ê≤≥ÂåóËøÅÂÆâÈ´òÊñ∞ÊäÄÊúØ‰∫ß‰∏öÂºÄÂèëÂå∫",
                      "name": "Ê≤≥ÂåóËøÅÂÆâ‰∫ß‰∏öÂºÄÂèëÂå∫",
                      "pop": "4000",
                      "x": "118.74187637441389",
                      "y": "40.02908958980425",
                      "url":"../../public/images/S138066.png",
                      "article":"Ê≤≥ÂåóËøÅÂÆâÁªèÊµéÂºÄÂèëÂå∫Â±ûÊ≤≥ÂåóÁúÅÁ∫ßÂºÄÂèëÂå∫ÔºåÊòØËøÅÂÆâÂ∏ÇÈáçÁÇπÂüπËÇ≤ÁöÑ‰∫ß‰∏öÂõ≠Âå∫ÔºåÊòØÈ°πÁõÆÂª∫ËÆæÂíåÊãõÂïÜÂºïËµÑÁöÑÊâøËΩΩÂπ≥Âè∞„ÄÇÁî±‰Ωç‰∫éËøÅÂÆâÂ∏ÇË•øÈÉ®ÁöÑÁªèÊµéÂºÄÂèëÂå∫„ÄÅ‰∏úÈÉ®ÁöÑÈ´òÊñ∞ÊäÄÊúØ‰∫ß‰∏öÂºÄÂèëÂå∫ÂèäÂçóÈÉ®ÁöÑÂåóÊñπÈí¢ÈìÅÁâ©ÊµÅ‰∫ß‰∏öËÅöÈõÜÂå∫‰∏âÂ§ßÊ≤≥ÂåóÁúÅÁ∫ßÂõ≠Âå∫Êï¥ÂêàËÄåÊàêÔº?2022Âπ?12ÊúàÁªèÊ≤≥ÂåóÁúÅÊîøÂ∫úÊâπÂáÜÊàêÁ´ãÔºåÊÄªËßÑÂàíÈù¢Áß?106.53Âπ≥ÊñπÂÖ¨ÈáåÔºåÂª∫ÊàêÂå∫Èù¢ÁßØ58Âπ≥ÊñπÂÖ¨Èáå„Ä?",
                      "article2":"ÂºÄÂèëÂå∫‰ª•ÁâπËâ≤Âåñ„ÄÅËßÑÊ®°Âåñ„ÄÅÈõÜÁæ§Âåñ‰∫ß‰∏öÂèëÂ±ïÊÄùË∑ØÔºåÂ§ßÂäõÊûÑÂª∫Áé∞‰ª£‰∫ß‰∏ö‰ΩìÁ≥ªÔºåÂõ¥Áªï‚Äú‰∏ÄÂå∫‰∏âÂõ≠‚ÄùÁßëÂ≠¶ËßÑÂàí‰∫ß‰∏öÂ∏ÉÂ±ÄÔºåË•øÈÉ®ÁâáÂå∫‰ºòÂÖàÂèëÂ±ïÁ≤æÂìÅÈí¢ÈìÅ„ÄÅË£ÖÂ§áÂà∂ÈÄ†„ÄÅÂÜ∂ÈáëÂª∫ÊùêÁ≠â‰∫ß‰∏öÔºõ‰∏úÈÉ®ÁâáÂå∫ÈáçÁÇπÂèëÂ±ïÈ´òÁ´ØË£ÖÂ§áÂà∂ÈÄ†„ÄÅÁîüÁâ©ÂåªËçØ„ÄÅÊñ∞ÊùêÊñôÁ≠â‰∫ß‰∏öÔºõÂåóÊñπÈí¢ÈìÅÁâ©ÊµÅ‰∫ß‰∏öÁâáÂå∫Â§ßÂäõÂèëÂ±ïÊô∫ÊÖßÁâ©ÊµÅ„ÄÅÊúüË¥ßÁâ©ÊµÅ„ÄÅË∂ÖÂ∏ÇÁâ©ÊµÅÂíåÊ∏ØÂè£Áâ©ÊµÅÁ≠â‰∫ß‰∏ö„ÄÇÂºÄÂèëÂå∫Â∑≤ÂàùÊ≠•ÂΩ¢ÊàêÁ≤æÂìÅÈí¢ÈìÅ„ÄÅÈ´òÁ´ØË£ÖÂ§áÂà∂ÈÄ†„ÄÅÁîüÁâ©ÂåªËçØ„ÄÅÁé∞‰ª£Áâ©ÊµÅ„ÄÅÊàòÁï•ÊÄßÊñ∞ÂÖ¥‰∫ß‰∏ö‰∫îÂ§ß‰∫ß‰∏öÈõÜÁæ§„Ä?"
                    },
                  }];
                  var gras = [];
                  for (var i = 0; i < point.length; i++) {
                    gras.push(new Graphic({
                      geometry: new Point({
                        longitude: point[i].geometry.x,
                        latitude: point[i].geometry.y
                      }),
                      attributes: point[i].attributes
                    }))
                  }
                  var Symbol1 = {
                    type: "picture-marker",
                    url: 'favicon.ico', //ÂõæÁâáÂú∞ÂùÄ
                    width: "110px",
                    height: "110px",
                  };
                  var renderer = {
                    type: "class-breaks",
                    field: "pop",
                    classBreakInfos: [{
                      minValue: 4000,
                      maxValue: 7000,
                      symbol: Symbol1
                    }]
                  };
                  var fields = [{
                    name: "ObjectID",
                    alias: "ObjectID",
                    type: "oid",
                  }];
    
                  for (var col in gras[0]["attributes"]) {
                    fields.push({
                      name: col,
                      alias: col,
                      type: "string"
                    })
                  }
                                //Ê†áÊ≥®
                  const nameClass0 = {
                    labelPlacement: "center-along",
                    labelExpressionInfo: {
                      expression: "$feature.name"
                    },
                  };
                  var chartAction = {
                    title: "ÂõæË°®",//È°µÈù¢ÊòæÁ§∫ÁöÑÊåâÈíÆÂêçÂ≠?
                    id: "chartAction",//ÊåâÈíÆid
                    className: "esri-icon-chart"
                  };
                  var layerzz = new FeatureLayer({
                    source: gras,
                    renderer: renderer,
                    geometryType: "point",
                    fields: fields,
                    objectIdField: "ObjectID",
                    popupTemplate: {
                      title: "<b>{name}</b>",
                      content: [{
                        type: "text", 
                        text: "{article}"
                      },{
                      type: "media",
                      mediaInfos: [{
                        // title: "<b>{name}</b>",
                        type: "image", //ÂõæÂÉè
                        // caption: "tree species",
                        value: {
                          sourceURL: "{url}" // ‰ΩøÁî®Â≠óÊÆµË°®ËææÂºèËÆæÁΩÆsourceURLÂ±ûÊÄ?
                        }
                      }]
                    },{
                        type: "text", 
                        text: "{article2}"
                      }],
                      actions:[chartAction],
                      overwriteActions:true
                    },
                    labelingInfo: [
                        nameClass0
                    ],

                  });
                  map.add(layerzz);

                  // Event handler that fires each time an action is clicked.
                  reactiveUtils.on(
                    () => view.popup,
                    "trigger-action",
                    (event:any) => {  // Execute the measureThis() function if the measure-this action is clicked
                      if(event.action.id === "chartAction"){
                        let button=document.getElementById('chart1_button') as HTMLInputElement;
                        button.style.display='block'
                        let chart=document.getElementById('chart1') as HTMLInputElement;
                        chart.style.zIndex = '1';
                        if(view.popup.selectedFeature.attributes.name == "ÂîêÂ±±ÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫"){
                          chart1(area[0],area[1]);
                        }else if(view.popup.selectedFeature.attributes.name == "Ê≠¶Ê±âÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫"){
                          chart1(area[2],area[3]);
                        }else if(view.popup.selectedFeature.attributes.name == "ÊàêÈÉΩÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫"){
                          chart1(area[4],area[5]);
                        }else if(view.popup.selectedFeature.attributes.name == "Âæ∑Èò≥ÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫"){
                          chart1(area[6],area[7]);
                        }else if(view.popup.selectedFeature.attributes.name == "ÁªµÈò≥ÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫"){
                          chart1(area[8],area[9]);
                        }else if(view.popup.selectedFeature.attributes.name == "ÂπøÂÖÉÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫"){
                          chart1(area[10],area[11]);
                        }else if(view.popup.selectedFeature.attributes.name == "ÈÅÇÂÆÅÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫"){
                          chart1(area[12],area[13]);
                        }else if(view.popup.selectedFeature.attributes.name == "Èî¶Â∑ûÁªèÊµéÊäÄÊúØÂºÄÂèëÂå∫"){
                          chart1(area[14],area[15]);
                        }else if(view.popup.selectedFeature.attributes.name == "Ê≤≥ÂåóËøÅÂÆâ‰∫ß‰∏öÂºÄÂèëÂå∫"){
                          chart1(area[16],area[17]);
                        }

                                      }
                  });
    // Ê∑ªÂä†Èº†Ê†áÁÇπÂáª‰∫ã‰ª∂ÁõëÂê¨Âô?
                view.on("click", handleMapClick);

    function handleMapClick(event:any) {
      const { mapPoint } = event; // Ëé∑ÂèñÁÇπÂáª‰ΩçÁΩÆÁöÑÂú∞ÁêÜÂùêÊ†?
      const latitude = mapPoint.latitude; // Ëé∑ÂèñÁ∫¨Â∫¶
      const longitude = mapPoint.longitude; // Ëé∑ÂèñÁªèÂ∫¶
      
      // Âú®ÊéßÂà∂Âè∞ÊâìÂç∞ÁªèÁ∫¨Â∫¶‰ø°ÊÅ?
      console.log(latitude+','+longitude);

      
      // Âú®È°µÈù¢‰∏äÊòæÁ§∫ÁªèÁ∫¨Â∫¶‰ø°ÊÅ?
      // showCoordinates(latitude, longitude);
    }

    // // ÂàõÂª∫ÊòæÁ§∫ÁªèÁ∫¨Â∫¶ÁöÑÂÖÉÁ¥†
    // const coordinatesDiv = document.createElement("div");
    // coordinatesDiv.id = "coordinatesDiv";
    // document.body.appendChild(coordinatesDiv);

    // function showCoordinates(latitude:any, longitude:any) {
    //   // Â∞ÜÁªèÁ∫¨Â∫¶‰ø°ÊÅØÊ∑ªÂä†Âà∞ÂÖÉÁ¥†‰∏≠
    //   coordinatesDiv.innerHTML = `Latitude: ${latitude}<br>Longitude: ${longitude}`;
    // }
          };
        initMap();
    })




    //ÂõæÂ±ÇÁõ∏ÂÖ≥
    function addChangeEventListener(layerHTML: string, Layer: any) {
      const layer = document.getElementById(layerHTML) as HTMLInputElement;
      layer && layer.addEventListener("change", () => {
        Layer.visible = layer.checked;
      });
    }

    function showLayer() {
      var enjoyCss = document.getElementById("enjoy-css") as HTMLInputElement;
      if (enjoyCss.style.display === "none") {
        enjoyCss.style.display = "block"; // ÊòæÁ§∫ enjoy-css ÂÖÉÁ¥†
      } else {
        enjoyCss.style.display = "none"; // ÈöêËóè enjoy-css ÂÖÉÁ¥†
      }
    }



    function swipe(){
      let swipe = new Swipe({
          view: view,
          leadingLayers: [G131056,G421032,G511040,,G511191,G511192,G511193,G511194,S217057,S138066],
          trailingLayers: [G131056_shpv,G421032_shpv,G511040_shpv,G511191_shpv,G511192_shpv,G511193_shpv,G511194_shpv,S217057_shpv,S138066_shpv],
          direction: "vertical", // swipe widget will move from top to bottom of view
          position: 50 // position set to middle of the view (50%)
        });
        view.ui.add(swipe);
    }

    function chart1(area1:number,area2:number){
      let customTheme = {
  // Âú®ËøôÈáåÂÆö‰πâ‰Ω†ÁöÑ‰∏ªÈ¢?
  backgroundColor: 'rgba(100,206,242,0.1)', // Áï•ÂæÆÈÄèÊòéÁöÑËìùËâ≤ËÉåÊô?
  // ÂÖ∂‰ªñ‰∏ªÈ¢òËÆæÁΩÆ...
};
      let chart = echarts.init(document.getElementById("chart1"), customTheme);
            // ÊääÈÖçÁΩÆÂíåÊï∞ÊçÆÊîæËøôÈá?
            chart.setOption({
  series: [
    {
      type: 'pie',
      title: {
          text: 'ECharts ÂÖ•Èó®Á§∫‰æã'
        },
        label: {
                normal: {
                    formatter: '{b}:{c}' + 'ÂÖ¨È°∑' + '\n\r' + '({d}%)',
                    show: true,
                    position: 'left'
                },
                emphasis: {
                    show: true,
                    textStyle: {
                        fontSize: '30',
                        fontWeight: 'bold'
                    }
                }
            },
      data: [
        {
          value: area1 - area2,
          name: 'Â∑≤ÂºÄÂèëÈù¢Áß?'
        },
        {
          value: area2,
          name: 'Êú™ÂºÄÂèëÈù¢Áß?'
        },
      ],
      radius: '50%'
    }
  ]
});

    }

    function closeChart(){
      let chart = echarts.getInstanceByDom(document.getElementById("chart1") as HTMLInputElement);
      let button=document.getElementById('chart1_button') as HTMLInputElement;
      button.style.display='none'
      let chart1=document.getElementById('chart1') as HTMLInputElement;
      chart1.style.zIndex = '-1';
      if (chart) {
        echarts.dispose(chart);
      }
    }

    function toThreeD(){
      router.push("./ThreeD")
    }
</script>

<style  lang="less">

.mapView {
  width: 100vw;
  height: 100vh;
  top: 0; 
  bottom: 0;
	left: 0;
	right: 0;
  position: fixed;
}
#measure{
  top: 140px; 
  bottom: 0;
	right: 14px;
  position: absolute;
}



#enjoy-css {
  position: absolute;
  top: 160px; 
  bottom: 0;
	right: 0px;
  width: 350px;
  height: 330px;
  margin: 46px;
  border: 2px solid rgba(0, 0, 0, 0.91);
  -webkit-border-radius: 14px;
  border-radius: 14px;
  font: normal 14px/1 "Times New Roman", Times, serif;
  color: rgba(0,0,0,1);
  background-color: rgb(255, 255, 255);
  #checkFont {
    left: 150px;
    top: 5px;
    position: absolute;
    display: flex;
    justify-content: space-between;
    gap: 9px;
    font-style: initial;
}
  #check{
    left: 10px;
    top: 10px;
    position: absolute;
  }
  
}
#chart1_button {
    left: 340px;
    top: 25px;
    position: absolute;
    z-index: 5;
    display: none;
}

#chart1{
  display: "";
  position: absolute;
  z-index: -1;
  width: 375px;
  height: 250px;
  top:4%;
  left: 2%;
}

#check .ant-form-item {
    margin-bottom: 3px;
}
</style>../class/twod/drawLine../class/twod/drawPolygon../class/TwoD/drawLine../class/TwoD/drawPolygon