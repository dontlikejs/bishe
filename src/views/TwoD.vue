<template>
		<div id="mapView" class="mapView">
      <div id="chart1" ></div>
      <a-button @click="closeChart" id="chart1_button" >å…³é—­</a-button>
      <div id="measure">
        <button class="esri-icon-globe esri-widget esri-widget--button esri-interactive" @click="toThreeD"></button>
        <button class="esri-icon-polyline esri-widget esri-widget--button esri-interactive" title="wer" @click="drawLine(view,lineLayer)"></button>
        <button class="esri-icon-polygon esri-widget esri-widget--button esri-interactive" @click="drawPolygon(view,polygonLayer)"></button>
        <button class="esri-icon-table esri-widget esri-widget--button esri-interactive" @click="showLayer"></button>
        <button class="esri-icon-media esri-widget esri-widget--button esri-interactive" @click="swipe"></button>
      </div>
  <div id="enjoy-css">
    <div id="checkFont">
      <!-- <h5>é¥æ„Ÿå½±åƒ</h5>
      <h5>å±€éƒ¨çŸ¢é‡?</h5>
      <h5>æ•´ä½“çŸ¢é‡</h5> -->
      <h5>é¥æ„Ÿ</h5>
      <h5>å±€éƒ?</h5>
      <h5>æ•´ä½“</h5>
    </div>

    <a-form  id="check">
      <!-- <a-form-item label="å”å±±æ›¹å¦ƒç”¸ç»æµæŠ€æœ¯å¼€å‘åŒº" id="layer1" style="margin: 0px;"> -->
      <a-form-item label="å”å±±ç»æµæŠ€æœ¯å¼€å‘åŒº" id="layer1" style="margin: 0px;padding: 0px;">
        <a-checkbox name="type" id="layer11" v-model:checked="state.check11" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer12" v-model:checked="state.check12" style="margin-left: 15px;"></a-checkbox>
        <a-checkbox name="type" id="layer13" v-model:checked="state.check13" style="margin-left: 15px;"></a-checkbox>
        <a-button @click="() => goToLayer([39603591.85559774,4306998.635729584,39662204.327045925,4355838.120180096],4527,view)" style="margin-left: 15px;">å®šä½</a-button>
      </a-form-item>
      <a-form-item label="æ­¦æ±‰ç»æµæŠ€æœ¯å¼€å‘åŒº" id="layer2" style="margin:0px">
        <a-checkbox name="type" id="layer21" v-model:checked="state.check21" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer22" v-model:checked="state.check22" style="margin-left: 15px;"></a-checkbox>
        <a-checkbox name="type" id="layer23" v-model:checked="state.check23" style="margin-left: 15px;"></a-checkbox>
        <a-button @click="() => goToLayer([38509351.349480346,3369125.9215750205,38524004.46734239,3378510.788633632],4526,view)" style="margin-left: 15px;">å®šä½</a-button>
      </a-form-item>
      <a-form-item label="æˆéƒ½ç»æµæŠ€æœ¯å¼€å‘åŒº" id="layer3">
        <a-checkbox name="type" id="layer31" v-model:checked="state.check31" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer32" v-model:checked="state.check32" style="margin-left: 15px;" disabled></a-checkbox>
        <a-checkbox name="type" id="layer33" v-model:checked="state.check33" style="margin-left: 15px;" disabled></a-checkbox>
        <a-button @click="() => goToLayer([35419064.14450003,3374737.753952593,35433717.26236208,3389085.465970963],4523,view)" style="margin-left: 15px;">å®šä½</a-button>
      </a-form-item>
      <a-form-item label="å¾·é˜³ç»æµæŠ€æœ¯å¼€å‘åŒº" id="layer4">
        <a-checkbox name="type" id="layer41" v-model:checked="state.check41" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer42" v-model:checked="state.check42" style="margin-left: 15px;" disabled></a-checkbox>
        <a-checkbox name="type" id="layer43" v-model:checked="state.check43" style="margin-left: 15px;" disabled></a-checkbox>
        <a-button @click="() => goToLayer([35435288.82994539,3432745.776386071,35446849.713640206,3447398.8942481177],4523,view)" style="margin-left: 15px;">å®šä½</a-button>
      </a-form-item>
      <a-form-item label="ç»µé˜³ç»æµæŠ€æœ¯å¼€å‘åŒº" id="layer5">
        <a-checkbox name="type" id="layer51" v-model:checked="state.check51" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer52" v-model:checked="state.check52" style="margin-left: 15px;"></a-checkbox>
        <a-checkbox name="type" id="layer53" v-model:checked="state.check53" style="margin-left: 15px;"></a-checkbox>
        <a-button @click="() => goToLayer([35474962.957825616,3470310.695158392,35485474.008932784,3484963.813020439],4523,view)" style="margin-left: 15px;">å®šä½</a-button>
      </a-form-item>
      <a-form-item label="å¹¿å…ƒç»æµæŠ€æœ¯å¼€å‘åŒº" id="layer6">
        <a-checkbox name="type" id="layer61" v-model:checked="state.check61" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer62" v-model:checked="state.check62" style="margin-left: 15px;" disabled></a-checkbox>
        <a-checkbox name="type" id="layer63" v-model:checked="state.check63" style="margin-left: 15px;" disabled></a-checkbox>
        <a-button @click="() => goToLayer([35558905.02649106,3573407.436581981,35585462.60962206,3602713.672306075],4523,view)" style="margin-left: 15px;">å®šä½</a-button>
      </a-form-item>
      <a-form-item label="é‚å®ç»æµæŠ€æœ¯å¼€å‘åŒº" id="layer7">
        <a-checkbox name="type" id="layer71" v-model:checked="state.check71" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer72" v-model:checked="state.check72" style="margin-left: 15px;" disabled></a-checkbox>
        <a-checkbox name="type" id="layer73" v-model:checked="state.check73" style="margin-left: 15px;" disabled></a-checkbox>
        <a-button @click="() => goToLayer([35537908.37473824,3362333.8228704324,35567214.61046233,3391105.5983680915],4523,view)" style="margin-left: 15px;">å®šä½</a-button>
      </a-form-item>
      <!-- <a-form-item label="é”¦å·ä¸ƒé‡Œæ²³ç»æµå¼€å‘åŒº" id="layer8"> -->
      <a-form-item label="é”¦å·ç»æµæŠ€æœ¯å¼€å‘åŒº" id="layer8">
        <a-checkbox name="type" id="layer81" v-model:checked="state.check81" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer82" v-model:checked="state.check82" style="margin-left: 15px;"></a-checkbox>
        <a-checkbox name="type" id="layer83" v-model:checked="state.check83" style="margin-left: 15px;"></a-checkbox>
        <a-button @click="() => goToLayer([40600864.41565077,4574513.4762480585,40608190.97458179,4581038.344839429],4528,view)" style="margin-left: 15px;">å®šä½</a-button>
      </a-form-item>
      <!-- <a-form-item label="æ²³åŒ—è¿å®‰é«˜æ–°æŠ€æœ¯äº§ä¸šå¼€å‘åŒº" id="layer9"> -->
      <a-form-item label="è¿å®‰æŠ€æœ¯äº§ä¸šå¼€å‘åŒº" id="layer9">
        <a-checkbox name="type" id="layer91" v-model:checked="state.check91" style="margin-left: 5px;"></a-checkbox>
        <a-checkbox name="type" id="layer92" v-model:checked="state.check92" style="margin-left: 15px;"></a-checkbox>
        <a-checkbox name="type" id="layer93" v-model:checked="state.check93" style="margin-left: 15px;"></a-checkbox>
        <a-button @click="() => goToLayer([40386432.92831738,4425772.877103163,40397001.24302025,4440425.994965211],4528,view)" style="margin-left: 15px;">å®šä½</a-button>
      </a-form-item>
    </a-form>
  </div>
    </div>
</template>



<script  lang="ts" setup name="TwoD">
import {onMounted, ref} from 'vue'
import { reactive, toRaw } from 'vue';
import type { UnwrapRef } from 'vue';
import { useRouter } from 'vue-router'
const router = useRouter()


import Map from '@arcgis/core/Map'
import MapView from '@arcgis/core/views/MapView'
import GraphicsLayer from '@arcgis/core/layers/GraphicsLayer'
import '@arcgis/core/assets/esri/themes/light/main.css'
import ScaleBar from '@arcgis/core/widgets/ScaleBar'
import Expand from '@arcgis/core/widgets/Expand'
import Editor from "@arcgis/core/widgets/Editor.js";
import Sketch from '@arcgis/core/widgets/Sketch'
import WMSLayer from "@arcgis/core/layers/WMSLayer.js";
import WFSLayer from "@arcgis/core/layers/WFSLayer.js";
import Popup from "@arcgis/core/widgets/Popup.js";
import Search from '@arcgis/core/widgets/Search'
import BasemapGallery from '@arcgis/core/widgets/BasemapGallery'
import Graphic from '@arcgis/core/Graphic';
import Draw from '@arcgis/core/views/draw/Draw';
import * as GeometryEngine from "@arcgis/core/geometry/geometryEngine.js";
import Point from '@arcgis/core/geometry/Point';
import Polyline from '@arcgis/core/geometry/Polyline';
import Polygon from '@arcgis/core/geometry/Polygon';
import Color from '@arcgis/core/Color';
import SimpleLineSymbol from '@arcgis/core/symbols/SimpleLineSymbol';
import Extent from "@arcgis/core/geometry/Extent.js";
import Query from "@arcgis/core/rest/support/Query.js";
import SpatialReference from "@arcgis/core/geometry/SpatialReference.js";
import FeatureLayer from "@arcgis/core/layers/FeatureLayer.js";
import html2canvas from "html2canvas";
import printJS from 'print-js'
import Print from "@arcgis/core/widgets/Print.js";
import Swipe from "@arcgis/core/widgets/Swipe.js";
import * as echarts from "echarts";
import * as reactiveUtils from "@arcgis/core/core/reactiveUtils.js";

import drawLine from "../class/TwoD/drawLine"
import drawPolygon from "../class/TwoD/drawPolygon"
import goToLayer from "../class/TwoD/goToLayer"





let map:any,view:any
let G131056:any
let G131056_shpv:any
let G421032:any
let G421032_shpv:any
let G511040:any
let G511040_shpv:any
let G511191:any
let G511191_shpv:any
let G511192:any
let G511192_shpv:any
let G511193:any
let G511193_shpv:any
let G511194:any
let G511194_shpv:any
let S217057:any
let S217057_shpv:any
let S138066:any
let S138066_shpv:any
const state = reactive({
  check11: true,
  check12: true,
  check13: true,

  check21: true,
  check22: true,
  check23: true,

  check31: true,
  check32: true,
  check33: true,

  check41: true,
  check42: true,
  check43: true,

  check51: true,
  check52: true,
  check53: true,

  check61: true,
  check62: true,
  check63: true,

  check71: true,
  check72: true,
  check73: true,

  check81: true,
  check82: true,
  check83: true,

  check91: true,
  check92: true,
  check93: true,
});
// const area = [14481841.441842116,7511535.580789766,9991808.539417403,1391143.286247395,9050000.000000000,1210000.000000000,3490000.000000000,4200000.000000000,10824778.160252398,2601408.432584364,3370000.000000000,910000.000000000,2365695.4716045866,663867.0667789616,2855695.4716045866,713867.0667789616,21388301.69222088,2800776.3784365905
// ]
const area = [1448,751,999,139,905,121,349,42,1082,260,337,91,236,66,285,71,2138,280]
var lineLayer = new GraphicsLayer() //ç¼æ¨ºåŸ—ç»¾å®æµ˜é”????
var polygonLayer = new GraphicsLayer() //ç¼æ¨ºåŸ—é—ˆãˆ æµ˜é”????
    onMounted(() => {
        function initMap() {
            const graphicsLayer = new GraphicsLayer();
            map = new Map({
              basemap: "topo-vector",
              layers: [graphicsLayer,lineLayer,polygonLayer]
            });

            view = new MapView({ //MapViewæ¶“è½°ç°©ç¼è¾¾ç´SceneViewæ¶“è½°ç¬é”Ÿ????
              container: 'mapView',
              map: map,
              zoom: 4,  //ç¼‚â•‚æ–é”Ÿ????
              center: [104, 34], // ç¼å¿“å®?, ç»¾î„€å®?
            })
            const basemapGallery = new BasemapGallery({
                  view: view,
                  source: {
                    portal: {
                      url: "https://www.arcgis.com",
                      useVectorBasemaps: true, // Load vector tile basemaps
                    }
                  }
            });
            const basemapGalleryExpand = new Expand({
            view: view,
            content: basemapGallery,
            expandIconClass: "esri-icon-basemap" // é”Ÿçš†è®¹æ‹·é”Ÿæ–¤æ‹·å±•é”Ÿæ–¤æ‹·å›¾é”Ÿæ–¤æ‹?
            });
            const scaleBar = new ScaleBar({
              view: view,
              unit: 'metric',
            })
            const sketch = new Sketch({
              view,
              layer: graphicsLayer,
              creationMode: "update"
            });
            const sketchExpand = new Expand({
              view: view,
              content: sketch,
              expandIconClass: "esri-icon-cursor-marquee" // é”Ÿçš†è®¹æ‹·é”Ÿæ–¤æ‹·å±•é”Ÿæ–¤æ‹·å›¾é”Ÿæ–¤æ‹?
            });
            const search = new Search({
                view: view
            });
            const layers:any = {}; // é”Ÿæ–¤æ‹·é”Ÿæ–¤æ‹·ä¸€é”Ÿæ–¤æ‹·é”Ÿæ–¤æ‹·é”Ÿæ–¤æ‹·é”Ÿæ–¤æ‹·é”ŸèŠ¥å‚¨é”Ÿæ–¤æ‹·é”Ÿå«ç¢‰æ‹·å›¾é”Ÿæ–¤æ‹·
            function addWMS(name:string,bbox:number[],wkid:number){
                layers[name] = new WMSLayer({ // ä½¿é”ŸçŸ«å‡¤æ‹·é”Ÿæ–¤æ‹·é”Ÿæ–¤æ‹·é”Ÿæ–¤æ‹·ä½¿é”ŸçŸ«æ†‹æ‹·é”Ÿæ–¤æ‹·é”Ÿæ–¤æ‹·ä¸ºé”Ÿæ–¤æ‹·é”Ÿæ–¤æ‹·é”Ÿæ–¤æ‹?
                    url: 'http://localhost:8080/geoserver/wms',
                    sublayers: [
                        {
                            name: name
                        }
                    ]
                });

                map.add(layers[name]); // é”Ÿæ–¤æ‹·é”Ÿæ¥è®¹æ‹·åº”é”Ÿæ–¤æ‹·å›¾é”Ÿå§åˆ°é”Ÿæ–¤æ‹·å›¾é”Ÿæ–¤æ‹·
                view.when(function() {
                var extent = new Extent({
                    xmin: bbox[0],
                    ymin: bbox[1],
                    xmax: bbox[2],
                    ymax: bbox[3],
                    spatialReference: { wkid:wkid }
                });
                view.goTo(extent).then(function() {
                    view.zoom = view.zoom * 1.1; // ç¼‚â•çš¬é’æ¿å¸«é‰ãƒ§æ®?50%
                });
            });
            return layers[name]
            }
            // console.log(layers)
            G131056 = addWMS('test:G131056',[39603591.85559774,4306998.635729584,39662204.327045925,4355838.120180096],4527)        
            G131056_shpv = addWMS('test:G131056.shpv',[39603591.85559774,4306998.635729584,39662204.327045925,4355838.120180096],4527)        
            // addWMS('test:G131056_result',[39603591.85559774,4306998.635729584,39662204.327045925,4355838.120180096],4527)

            G421032 = addWMS('test:G421032',[38509351.349480346,3369125.9215750205,38524004.46734239,3378510.788633632],4526)
            G421032_shpv = addWMS('test:G421032.shpv',[38509351.349480346,3369125.9215750205,38524004.46734239,3378510.788633632],4526)
            
            G511040 = addWMS('test:G511040',[35419064.14450003,3374737.753952593,35433717.26236208,3389085.465970963],4523)
            // G511040_shpv = addWMS('test:G511040.shpv',[35419064.14450003,3374737.753952593,35433717.26236208,3389085.465970963],4523)
            
            G511191 = addWMS('test:G511191',[35435288.82994539,3432745.776386071,35446849.713640206,3447398.8942481177],4523)
            // G511191_shpv = addWMS('test:G511191.shpv',[35435288.82994539,3432745.776386071,35446849.713640206,3447398.8942481177],4523)
            
            G511192 = addWMS('test:G511192',[35474962.957825616,3470310.695158392,35485474.008932784,3484963.813020439],4523)
            G511192_shpv = addWMS('test:G511192.shpv',[35474962.957825616,3470310.695158392,35485474.008932784,3484963.813020439],4523)
            
            G511193 = addWMS('test:G511193',[35558905.02649106,3573407.436581981,35585462.60962206,3602713.672306075],4523)
            // G511193_shpv = addWMS('test:G511193.shpv',[35558905.02649106,3573407.436581981,35585462.60962206,3602713.672306075],4523)
            
            G511194 = addWMS('test:G511194',[35537908.37473824,3362333.8228704324,35567214.61046233,3391105.5983680915],4523)
            // G511194_shpv = addWMS('test:G511194.shpv',[35537908.37473824,3362333.8228704324,35567214.61046233,3391105.5983680915],4523)
            
            S217057 = addWMS('test:S217057',[40600864.41565077,4574513.4762480585,40608190.97458179,4581038.344839429],4528)
            S217057_shpv = addWMS('test:S217057.shpv',[40600864.41565077,4574513.4762480585,40608190.97458179,4581038.344839429],4528)
            
            S138066 = addWMS('test:S138066',[40386432.92831738,4425772.877103163,40397001.24302025,4440425.994965211],4528)
            S138066_shpv = addWMS('test:S138066.shpv',[40385507.16685374,4425639.262046554,40395560.1091954,4440292.379908602],4528)
            
            // console.log(a)
            // const editor = new Editor({
            //   view: view, // é”ŸèŠ¥æ¢ä¸ºé”Ÿæ–¤æ‹·é”Ÿä¾¥ç¢‰æ‹·å›¾é”Ÿæ–¤æ‹·å›¾
            //   layerInfos: [{
            //     layer: a,
            //   }]
            // });

            // view.ui.add(editor, 'top-right'); // é”Ÿæ–¤æ‹·é”Ÿæ´è¾‘é”Ÿæ–¤æ‹·é”Ÿæ–¤æ‹·é”Ÿæ¥ç¢‰æ‹· UI é”Ÿæ–¤æ‹?
            // Add the widget to the view
            view.ui.move('zoom', 'bottom-right') // å¨£è¯²å§ç¼‚â•‚æ–éºÑ‚æ¬¢
            view.ui.add(search, "top-right");
            view.ui.add(scaleBar, { position: 'bottom-left' }) // å¨£è¯²å§å§£æ–¾ç·¥é”?????
            view.ui.add(sketchExpand, "top-right");
            view.ui.add(basemapGalleryExpand, { position: "top-right" });
            view.ui.components = [];
            addChangeEventListener("layer11",G131056);
            addChangeEventListener("layer12",G131056_shpv);
            addChangeEventListener("layer21",G421032);
            addChangeEventListener("layer22",G421032_shpv);
            addChangeEventListener("layer31",G511040);
            addChangeEventListener("layer32",G511040_shpv);
            addChangeEventListener("layer41",G511191);
            addChangeEventListener("layer42",G511191_shpv);
            addChangeEventListener("layer51",G511192);
            addChangeEventListener("layer52",G511192_shpv);
            addChangeEventListener("layer61",G511193);
            addChangeEventListener("layer62",G511193_shpv);
            addChangeEventListener("layer71",G511194);
            addChangeEventListener("layer72",G511194_shpv);
            addChangeEventListener("layer81",S217057);
            addChangeEventListener("layer82",S217057_shpv);
            addChangeEventListener("layer91",S138066);
            addChangeEventListener("layer92",S138066_shpv);

            var point = [{
                    "geometry": {
                      "x": 118.46203717528095,
                      "y": 39.08851358018042,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ç›‘æµ‹ç«?",
                      // "name": "å”å±±æ›¹å¦ƒç”¸ç»æµæŠ€æœ¯å¼€å‘åŒº",
                      "name": "å”å±±ç»æµæŠ€æœ¯å¼€å‘åŒº",
                      "pop": "4000",
                      "x": "118.46203717528095",
                      "y": "39.08851358018042",
                      "url":"../../public/images/G131056.png",
                      "article":"ä¸­å›½ï¼ˆæ²³åŒ—ï¼‰è‡ªç”±è´¸æ˜“è¯•éªŒåŒºæ›¹å¦ƒç”¸ç‰‡åŒºäº?2019å¹?8æœ?31æ—¥æŒ‚ç‰Œæˆç«‹ï¼Œæ˜¯æ²³åŒ—è‡ªè´¸åŒºå”¯ä¸€æ²¿æµ·ç‰‡åŒºï¼Œæ€»é¢ç§?33.48å¹³æ–¹å…¬é‡Œï¼Œä¸œè‡³æ›¹å¦ƒç”¸æ–°åŸç»¿ç æ²³è¥¿å²¸ã€é’è£³æ²³è¥¿å²¸ï¼Œå—è‡³çº³æ½®æ²³åŒ—å²¸çº¿ã€ä¸‰å·æ¸¯æ± å²¸çº¿ï¼Œè¥¿è‡³å·¥ä¸šåŒºé«˜æ–°å¤§è¡—ï¼ŒåŒ—è‡³æ›¹å¦ƒç”¸å·¥ä¸šåŒºåŒ—è¾¹è·¯ã€æ›¹å¦ƒç”¸æ–°åŸæ–°æ¸¯å¤§é“ã€‚é‡ç‚¹å‘å±•å›½é™…å¤§å®—å•†å“è´¸æ˜“ã€æ¸¯èˆªæœåŠ¡ã€èƒ½æºå‚¨é…ã€é«˜ç«¯è£…å¤‡åˆ¶é€ ç­‰äº§ä¸šï¼Œå»ºè®¾ä¸œåŒ—äºšç»æµåˆä½œå¼•é¢†åŒºã€ä¸´æ¸¯ç»æµåˆ›æ–°ç¤ºèŒƒåŒºã€?",
                      "article2":"æ›¹å¦ƒç”¸ç‰‡åŒºè‚©è´Ÿâ€œä¸ºå›½å®¶è¯•åˆ¶åº¦ã€ä¸ºåœ°æ–¹è°‹å‘å±•â€çš„èŒè´£ä½¿å‘½ï¼ŒåšæŒâ€œå¤§èƒ†è¯•ã€å¤§èƒ†é—¯ã€è‡ªä¸»æ”¹â€ï¼Œèšç„¦ç‰‡åŒºåŠŸèƒ½å®šä½ï¼ŒåšæŒæ”¹é©åˆ›æ–°ã€å…ˆè¡Œå…ˆè¯•ï¼Œä»¥åˆ¶åº¦åˆ›æ–°ä¸ºæ ¸å¿ƒï¼Œç§¯æè½¬å˜æ”¿åºœèŒèƒ½ï¼Œå¤§åŠ›å¼€å±•æ‹›å•†å¼•èµ„ï¼ŒæŒç»­æ¨è¿›é‡‘èå¼€æ”¾ï¼ŒèšåŠ›å‘å±•ä¼˜åŠ¿äº§ä¸šï¼Œæ¨åŠ¨å„é¡¹å·¥ä½œå–å¾—æ˜¾è‘—æˆæ•ˆï¼Œ2020ã€?2021ã€?2022å¹´è¿ç»­ä¸‰å¹´åœ¨å…¨çœå››ä¸ªç‰‡åŒºä¸­æ’åç¬¬ä¸€ã€?"
                    },
                  }, {
                    "geometry": {
                      "x": 114.17705389463079,
                      "y": 30.482969789502164,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ç›‘æµ‹ç«?",
                      "name": "æ­¦æ±‰ç»æµæŠ€æœ¯å¼€å‘åŒº",
                      "pop": "4000",
                      "x": "114.17705389463079",
                      "y": "30.482969789502164",
                      "url":"../../public/images/G421032.png",
                      "article":"æ­¦æ±‰ç»å¼€åŒºä½äºæ­¦æ±‰è¥¿å—ï¼Œ1991å¹?5æœˆåŠ¨å·¥å…´å»ºï¼Œ1993å¹?4æœˆç»å›½åŠ¡é™¢æ‰¹å‡†ä¸ºå›½å®¶çº§ç»æµæŠ€æœ¯å¼€å‘åŒºï¼?2000å¹?4æœˆç»å›½åŠ¡é™¢æ‰¹å‡†åœ¨ç»å¼€åŒºå†…è®¾ç«‹æ­¦æ±‰å‡ºå£åŠ å·¥åŒºï¼Œ2018å¹?11æœˆå‡çº§ä¸ºæ­¦æ±‰ç»å¼€ç»¼åˆä¿ç¨åŒºã€‚ç»è¿?30å¤šå¹´çš„å‘å±•ï¼Œæ­¦æ±‰ç»å¼€åŒºé€æ­¥å½¢æˆâ€?3335â€ç°ä»£äº§ä¸šä½“ç³»ï¼šæ±½è½¦åˆ¶é€ ã€ç”µå­ç”µå™¨ã€é£Ÿå“é¥®æ–?3å¤§ä¼˜åŠ¿äº§ä¸šã€æ–°èƒ½æºä¸æ™ºèƒ½ç½‘è”æ±½è½¦ã€æ–°èƒ½æºã€æ–°ææ–™3å¤§æˆ˜ç•¥äº§ä¸šã€æ•°å­—ç»æµã€ç°ä»£æœåŠ¡ã€å¤§å¥åº·3å¤§é‡ç‚¹å‘å±•äº§ä¸šã€é«˜ç«¯è£…å¤‡ã€æ™ºèƒ½å»ºé€ ã€é€šç”¨èˆªç©ºã€ç°ä»£ç‰©æµã€é«˜ç§‘æŠ€å†œä¸š5å¤§ç‰¹è‰²äº§ä¸šï¼Œæˆä¸ºæ­¦æ±‰å·¥ä¸šç»æµçš„ä¸»æˆ˜åœºã€?",
                      "article2":"ç»è¿‡31å¹´å‘å±•ï¼Œå½¢æˆäº†ä»¥æ±½è½¦åŠé›¶éƒ¨ä»¶ã€ç”µå­ç”µå™¨ã€é£Ÿå“é¥®æ–™ã€ç”Ÿç‰©åŒ»è¯ä¸ºæ ¸å¿ƒï¼Œä»¥æ–°èƒ½æºã€æ–°ææ–™ã€æ™ºèƒ½è£…å¤‡ã€é€šç”¨èˆªç©ºä¸ºæ”¯æ’‘ï¼Œä»¥ç°ä»£æœåŠ¡ä¸šä¸ºè¡¥å……çš„äº§ä¸šä½“ç³»ï¼Œå¹´äº§æ•´è½¦è¿‘ç™¾ä¸‡è¾†ï¼Œå·¥ä¸šäº§å€¼è¶…3460äº¿å…ƒï¼Œå å…¨å¸‚äº”åˆ†ä¹‹ä¸€ï¼Œå®ç°äº†ä»â€œä¸€è¾†è½¦â€åˆ°â€œä¸€ä¸ªäº§ä¸šé›†ç¾¤â€ï¼Œå†åˆ°â€œä¸€åº§æ—¶ä»£æ–°åŸâ€çš„è½¬å˜ï¼Œè¢«ç§°ä¸ºâ€œä¸­å›½è½¦è°·â€ã€?"
                    },
                  }, {
                    "geometry": {
                      "x": 104.23607371241113,
                      "y": 30.561850267761542,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ç›‘æµ‹ç«?",
                      "name": "æˆéƒ½ç»æµæŠ€æœ¯å¼€å‘åŒº",
                      "pop": "4000",
                      "x": "104.23607371241113",
                      "y": "30.561850267761542"
                    },
                  }, {
                    "geometry": {
                      "x": 104.40265144128001,
                      "y": 31.09436026916168,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ç›‘æµ‹ç«?",
                      "name": "å¾·é˜³ç»æµæŠ€æœ¯å¼€å‘åŒº",
                      "pop": "4000",
                      "x": "104.40265144128001",
                      "y": "31.09436026916168"
                    },
                  }, {
                    "geometry": {
                      "x": 104.77409116632978,
                      "y": 31.42437256683567,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ç›‘æµ‹ç«?",
                      "name": "ç»µé˜³ç»æµæŠ€æœ¯å¼€å‘åŒº",
                      "pop": "4000",
                      "x": "104.77409116632978",
                      "y": "31.42437256683567",
                      "url":"../../public/images/G511192.png",
                      "article":"ç»µé˜³ç»æµæŠ€æœ¯å¼€å‘åŒºï¼ˆç®€ç§°ç»µé˜³ç»å¼€åŒºï¼‰æˆç«‹äº?2000å¹?8æœˆï¼Œ2012å¹?2æœˆä¸ç»µé˜³ç§‘æŠ€åŸç°ä»£å†œä¸šç§‘æŠ€ç¤ºèŒƒåŒºæ•´åˆåå¢æŒ‚å…¶ç‰Œå­ï¼ŒåŒå¹´10æœˆå‡çº§ä¸ºå›½å®¶çº§ç»æµæŠ€æœ¯å¼€å‘åŒºã€‚ç®¡è¾–å¡˜æ±›è¡—é“å’Œæ¾å­é•‡ï¼Œæ€»é¢ç§?65å¹³æ–¹å…¬é‡Œï¼Œçº³å…¥åŸå¸‚æ§è§?45å¹³æ–¹å…¬é‡Œï¼Œå»ºæˆåŒºé¢ç§¯27.32å¹³æ–¹å…¬é‡Œï¼Œä¸ƒäººæ™®äººå£çº?16.7ä¸‡ï¼Œå¸¸ä½äººå£20ä½™ä¸‡ã€‚ç»µé˜³ç»å¼€åŒºæ˜¯å›½å®¶çº§ç»¿è‰²å·¥ä¸šå›­åŒºã€å››å·çœä¼˜ç§€å·¥ä¸šå›­åŒºã€å››å·çœæ–°å‹å·¥ä¸šç¤ºèŒƒåŸºåœ°ï¼Œæ‹¥æœ‰å››å·çœé¦–æ‰¹åŒ–å·¥å›­åŒºã€å›½å®¶çº§è¿æ¥å™¨ä¸­å°ç‰¹è‰²äº§ä¸šé›†ç¾¤ï¼Œæ­£å‘ç€â€œåŠ å¿«å»ºæˆåƒäº¿å›­åŒºã€å¥‹åŠ›æŒºè¿›å…¨å›?50å¼ºï¼Œæ‰“é€ è¥¿éƒ¨é«˜è´¨é‡å‘å±•ç¤ºèŒƒåŒºâ€çš„ç›®æ ‡é˜”æ­¥å‰è¡Œã€?2023å¹´ï¼Œåœ°åŒºç”Ÿäº§æ€»å€¼å¢é•?9.8%ï¼Œåœ°æ–¹ä¸€èˆ¬å…¬å…±é¢„ç®—æ”¶å…¥å¢é•?10.0%ï¼Œè§„ä¸Šå·¥ä¸šæ€»äº§å€¼å¢é•?11.2%ï¼Œå…¨ç¤¾ä¼šå›ºå®šèµ„äº§æŠ•èµ„å¢é•¿10.0%ã€?",
                      "article2":"å½“å‰ï¼Œç»µé˜³ç»å¼€åŒºæ­£åšæŒä»¥ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ä¸ºæŒ‡å¯¼ï¼Œå…¨é¢è´¯å½»è½å®å…šçš„äºŒåå¤§ç²¾ç¥å’Œä¹ è¿‘å¹³æ€»ä¹¦è®°å¯¹å››å·å·¥ä½œç³»åˆ—é‡è¦æŒ‡ç¤ºç²¾ç¥ï¼ŒåšæŒç¨³ä¸­æ±‚è¿›å·¥ä½œæ€»åŸºè°ƒï¼Œå®Œæ•´ã€å‡†ç¡®ã€å…¨é¢è´¯å½»æ–°å‘å±•ç†å¿µï¼Œç§¯æèå…¥å’ŒæœåŠ¡æ„å»ºæ–°å‘å±•æ ¼å±€ï¼ŒåšæŒåˆ›æ–°å¼•é¢†ï¼Œæ·±å…¥è´¯å½»â€œäº”å¸‚æˆ˜ç•¥â€ï¼Œä»¥â€œå›­åŒºæè´¨â€â€œä¼ä¸šæ»¡å›­â€ä¸ºæ€»ç‰µå¼•ï¼ŒåŠ å¿«å»ºæˆåƒäº¿å›­åŒºã€å¥‹åŠ›æŒºè¿›å…¨å›?50å¼ºï¼Œæ‰“é€ è¥¿éƒ¨é«˜è´¨é‡å‘å±•ç¤ºèŒƒåŒºï¼Œä»¥ä¸€åŸŸä¹‹å…‰ä¸ºåŠ å¿«å»ºè®¾ä¸­å›½ç§‘æŠ€åŸã€å…¨åŠ›æ‰“é€ æˆæ¸å‰¯ä¸­å¿ƒæ·»å½©ã€?"
                    },
                  }, {
                    "geometry": {
                      "x": 105.804480188842,
                      "y": 32.425302129477664,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ç›‘æµ‹ç«?",
                      "name": "å¹¿å…ƒç»æµæŠ€æœ¯å¼€å‘åŒº",
                      "pop": "4000",
                      "x": "105.804480188842",
                      "y": "32.425302129477664"
                    },
                  },{
                    "geometry": {
                      "x": 105.56522551350984,
                      "y": 30.51154606479028,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ç›‘æµ‹ç«?",
                      "name": "é‚å®ç»æµæŠ€æœ¯å¼€å‘åŒº",
                      "pop": "4000",
                      "x": "105.56522551350984",
                      "y": "30.51154606479028"
                    },
                  },{
                    "geometry": {
                      "x": 121.250387039328,
                      "y": 41.3283199341745,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ç›‘æµ‹ç«?",
                      // "name": "é”¦å·ä¸ƒé‡Œæ²³ç»æµå¼€å‘åŒº",
                      "name": "é”¦å·ç»æµæŠ€æœ¯å¼€å‘åŒº",
                      "pop": "4000",
                      "x": "121.250387039328",
                      "y": "41.3283199341745",
                      "url":"../../public/images/S217057.png",
                      "article":"é”¦å·ä¸ƒé‡Œæ²³é«˜æ–°æŠ€æœ¯äº§ä¸šå¼€å‘åŒºæ˜?2019å¹?1æœˆç»çœæ”¿åºœæ‰¹å‡†å»ºç«‹çš„çœçº§é«˜æ–°åŒºï¼ŒåŒºåŸŸé¢ç§¯3.69å¹³æ–¹å…¬é‡Œï¼Œé«˜æ–°åŒºæœªç‹¬ç«‹è®¾ç½®æœºæ„ï¼Œä¸å¼€å‘åŒºåˆç½²åŠå…¬ã€‚è·å¾—â€œè¾½å®çœå“ç‰Œæœºç”µè£…å¤‡äº§ä¸šåŸºåœ°â€ã€â€œçœçº§ç¤ºèŒƒå†œäº§å“åŠ å·¥é›†èšåŒºâ€ç­‰ç§°å·ã€‚é«˜æ–°åŒºä»¥æ–°å‘å±•ç†å¿µä¸ºå¼•é¢†ï¼Œæ¨åŠ¨è´¨é‡å˜é©ã€æ•ˆç‡å˜é©ã€åŠ¨åŠ›å˜é©ï¼Œæ‰“é€ é«˜æ–°åŒºå“ç‰Œï¼Œå°†é«˜æ–°åŒºå»ºæˆåˆ›æ–°é©±åŠ¨å‘å±•ç¤ºèŒƒåŒºå’Œé«˜è´¨é‡å‘å±•çš„å…ˆè¡ŒåŒºã€‚åšå¥½æ”¹é€ å‡çº§â€œè€å­—å·â€ã€æ·±åº¦å¼€å‘â€œåŸå­—å·â€ã€åŸ¹è‚²å£®å¤§â€œæ–°å­—å·â€ä¸‰ç¯‡å¤§æ–‡ç« ï¼Œå»ºç«‹ç§‘æŠ€å‹ä¼ä¸šæ¢¯åº¦åŸ¹è‚²ä½“ç³»ã€?",
                      "article2":"æ‰“é€ â€?5G+å·¥ä¸šäº’è”ç½‘â€ç¤ºèŒƒå›­åŒºï¼Œå»ºè®¾å›­åŒºã€ä¼ä¸šè¿è¡Œå¤§æ•°æ®å¹³å°ï¼Œä»¥æ•°å­—åŒ–èµ‹èƒ½å·¥ä¸šä¼ä¸šè½¬å‹ï¼Œå®ç°ç§‘æŠ€å‹ä¼ä¸šå…¨éƒ¨ä¸Šäº‘ã€‚åšå¤§åšå¼ºå¼€å‘åŒºâ€œä¸‰é™¢ä¸¤ç«™ä¸¤åŸºåœ°ä¸€å¹³å°â€åŠŸèƒ½ï¼ŒåŠ å¿«ä¼ä¸šã€é«˜æ ¡ã€ç§‘ç ”æœºæ„â€œäº§å­¦ç ”â€èåˆè¿›ç¨‹ï¼Œæ¨è¿›â€œåšå£«è¿›å›­åŒºè¿›ä¼ä¸šâ€ï¼Œæ­å»ºé«˜ç§‘æŠ€äººæ‰æœåŠ¡ä¼ä¸šå¹³å°ã€?"
                    },
                  },{
                    "geometry": {
                      "x": 118.74187637441389,
                      "y": 40.02908958980425,
                      "spatialReference": {
                        "wkid": 4326
                      }
                    },
                    "attributes": {
                      "cxcd": "ç›‘æµ‹ç«?",
                      // "name": "æ²³åŒ—è¿å®‰é«˜æ–°æŠ€æœ¯äº§ä¸šå¼€å‘åŒº",
                      "name": "æ²³åŒ—è¿å®‰äº§ä¸šå¼€å‘åŒº",
                      "pop": "4000",
                      "x": "118.74187637441389",
                      "y": "40.02908958980425",
                      "url":"../../public/images/S138066.png",
                      "article":"æ²³åŒ—è¿å®‰ç»æµå¼€å‘åŒºå±æ²³åŒ—çœçº§å¼€å‘åŒºï¼Œæ˜¯è¿å®‰å¸‚é‡ç‚¹åŸ¹è‚²çš„äº§ä¸šå›­åŒºï¼Œæ˜¯é¡¹ç›®å»ºè®¾å’Œæ‹›å•†å¼•èµ„çš„æ‰¿è½½å¹³å°ã€‚ç”±ä½äºè¿å®‰å¸‚è¥¿éƒ¨çš„ç»æµå¼€å‘åŒºã€ä¸œéƒ¨çš„é«˜æ–°æŠ€æœ¯äº§ä¸šå¼€å‘åŒºåŠå—éƒ¨çš„åŒ—æ–¹é’¢é“ç‰©æµäº§ä¸šèšé›†åŒºä¸‰å¤§æ²³åŒ—çœçº§å›­åŒºæ•´åˆè€Œæˆï¼?2022å¹?12æœˆç»æ²³åŒ—çœæ”¿åºœæ‰¹å‡†æˆç«‹ï¼Œæ€»è§„åˆ’é¢ç§?106.53å¹³æ–¹å…¬é‡Œï¼Œå»ºæˆåŒºé¢ç§¯58å¹³æ–¹å…¬é‡Œã€?",
                      "article2":"å¼€å‘åŒºä»¥ç‰¹è‰²åŒ–ã€è§„æ¨¡åŒ–ã€é›†ç¾¤åŒ–äº§ä¸šå‘å±•æ€è·¯ï¼Œå¤§åŠ›æ„å»ºç°ä»£äº§ä¸šä½“ç³»ï¼Œå›´ç»•â€œä¸€åŒºä¸‰å›­â€ç§‘å­¦è§„åˆ’äº§ä¸šå¸ƒå±€ï¼Œè¥¿éƒ¨ç‰‡åŒºä¼˜å…ˆå‘å±•ç²¾å“é’¢é“ã€è£…å¤‡åˆ¶é€ ã€å†¶é‡‘å»ºæç­‰äº§ä¸šï¼›ä¸œéƒ¨ç‰‡åŒºé‡ç‚¹å‘å±•é«˜ç«¯è£…å¤‡åˆ¶é€ ã€ç”Ÿç‰©åŒ»è¯ã€æ–°ææ–™ç­‰äº§ä¸šï¼›åŒ—æ–¹é’¢é“ç‰©æµäº§ä¸šç‰‡åŒºå¤§åŠ›å‘å±•æ™ºæ…§ç‰©æµã€æœŸè´§ç‰©æµã€è¶…å¸‚ç‰©æµå’Œæ¸¯å£ç‰©æµç­‰äº§ä¸šã€‚å¼€å‘åŒºå·²åˆæ­¥å½¢æˆç²¾å“é’¢é“ã€é«˜ç«¯è£…å¤‡åˆ¶é€ ã€ç”Ÿç‰©åŒ»è¯ã€ç°ä»£ç‰©æµã€æˆ˜ç•¥æ€§æ–°å…´äº§ä¸šäº”å¤§äº§ä¸šé›†ç¾¤ã€?"
                    },
                  }];
                  var gras = [];
                  for (var i = 0; i < point.length; i++) {
                    gras.push(new Graphic({
                      geometry: new Point({
                        longitude: point[i].geometry.x,
                        latitude: point[i].geometry.y
                      }),
                      attributes: point[i].attributes
                    }))
                  }
                  var Symbol1 = {
                    type: "picture-marker",
                    url: 'favicon.ico', //å›¾ç‰‡åœ°å€
                    width: "110px",
                    height: "110px",
                  };
                  var renderer = {
                    type: "class-breaks",
                    field: "pop",
                    classBreakInfos: [{
                      minValue: 4000,
                      maxValue: 7000,
                      symbol: Symbol1
                    }]
                  };
                  var fields = [{
                    name: "ObjectID",
                    alias: "ObjectID",
                    type: "oid",
                  }];
    
                  for (var col in gras[0]["attributes"]) {
                    fields.push({
                      name: col,
                      alias: col,
                      type: "string"
                    })
                  }
                                //æ ‡æ³¨
                  const nameClass0 = {
                    labelPlacement: "center-along",
                    labelExpressionInfo: {
                      expression: "$feature.name"
                    },
                  };
                  var chartAction = {
                    title: "å›¾è¡¨",//é¡µé¢æ˜¾ç¤ºçš„æŒ‰é’®åå­?
                    id: "chartAction",//æŒ‰é’®id
                    className: "esri-icon-chart"
                  };
                  var layerzz = new FeatureLayer({
                    source: gras,
                    renderer: renderer,
                    geometryType: "point",
                    fields: fields,
                    objectIdField: "ObjectID",
                    popupTemplate: {
                      title: "<b>{name}</b>",
                      content: [{
                        type: "text", 
                        text: "{article}"
                      },{
                      type: "media",
                      mediaInfos: [{
                        // title: "<b>{name}</b>",
                        type: "image", //å›¾åƒ
                        // caption: "tree species",
                        value: {
                          sourceURL: "{url}" // ä½¿ç”¨å­—æ®µè¡¨è¾¾å¼è®¾ç½®sourceURLå±æ€?
                        }
                      }]
                    },{
                        type: "text", 
                        text: "{article2}"
                      }],
                      actions:[chartAction],
                      overwriteActions:true
                    },
                    labelingInfo: [
                        nameClass0
                    ],

                  });
                  map.add(layerzz);

                  // Event handler that fires each time an action is clicked.
                  reactiveUtils.on(
                    () => view.popup,
                    "trigger-action",
                    (event:any) => {  // Execute the measureThis() function if the measure-this action is clicked
                      if(event.action.id === "chartAction"){
                        let button=document.getElementById('chart1_button') as HTMLInputElement;
                        button.style.display='block'
                        let chart=document.getElementById('chart1') as HTMLInputElement;
                        chart.style.zIndex = '1';
                        if(view.popup.selectedFeature.attributes.name == "å”å±±ç»æµæŠ€æœ¯å¼€å‘åŒº"){
                          chart1(area[0],area[1]);
                        }else if(view.popup.selectedFeature.attributes.name == "æ­¦æ±‰ç»æµæŠ€æœ¯å¼€å‘åŒº"){
                          chart1(area[2],area[3]);
                        }else if(view.popup.selectedFeature.attributes.name == "æˆéƒ½ç»æµæŠ€æœ¯å¼€å‘åŒº"){
                          chart1(area[4],area[5]);
                        }else if(view.popup.selectedFeature.attributes.name == "å¾·é˜³ç»æµæŠ€æœ¯å¼€å‘åŒº"){
                          chart1(area[6],area[7]);
                        }else if(view.popup.selectedFeature.attributes.name == "ç»µé˜³ç»æµæŠ€æœ¯å¼€å‘åŒº"){
                          chart1(area[8],area[9]);
                        }else if(view.popup.selectedFeature.attributes.name == "å¹¿å…ƒç»æµæŠ€æœ¯å¼€å‘åŒº"){
                          chart1(area[10],area[11]);
                        }else if(view.popup.selectedFeature.attributes.name == "é‚å®ç»æµæŠ€æœ¯å¼€å‘åŒº"){
                          chart1(area[12],area[13]);
                        }else if(view.popup.selectedFeature.attributes.name == "é”¦å·ç»æµæŠ€æœ¯å¼€å‘åŒº"){
                          chart1(area[14],area[15]);
                        }else if(view.popup.selectedFeature.attributes.name == "æ²³åŒ—è¿å®‰äº§ä¸šå¼€å‘åŒº"){
                          chart1(area[16],area[17]);
                        }

                                      }
                  });
    // æ·»åŠ é¼ æ ‡ç‚¹å‡»äº‹ä»¶ç›‘å¬å™?
                view.on("click", handleMapClick);

    function handleMapClick(event:any) {
      const { mapPoint } = event; // è·å–ç‚¹å‡»ä½ç½®çš„åœ°ç†åæ ?
      const latitude = mapPoint.latitude; // è·å–çº¬åº¦
      const longitude = mapPoint.longitude; // è·å–ç»åº¦
      
      // åœ¨æ§åˆ¶å°æ‰“å°ç»çº¬åº¦ä¿¡æ?
      console.log(latitude+','+longitude);

      
      // åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºç»çº¬åº¦ä¿¡æ?
      // showCoordinates(latitude, longitude);
    }

    // // åˆ›å»ºæ˜¾ç¤ºç»çº¬åº¦çš„å…ƒç´ 
    // const coordinatesDiv = document.createElement("div");
    // coordinatesDiv.id = "coordinatesDiv";
    // document.body.appendChild(coordinatesDiv);

    // function showCoordinates(latitude:any, longitude:any) {
    //   // å°†ç»çº¬åº¦ä¿¡æ¯æ·»åŠ åˆ°å…ƒç´ ä¸­
    //   coordinatesDiv.innerHTML = `Latitude: ${latitude}<br>Longitude: ${longitude}`;
    // }
          };
        initMap();
    })




    //å›¾å±‚ç›¸å…³
    function addChangeEventListener(layerHTML: string, Layer: any) {
      const layer = document.getElementById(layerHTML) as HTMLInputElement;
      layer && layer.addEventListener("change", () => {
        Layer.visible = layer.checked;
      });
    }

    function showLayer() {
      var enjoyCss = document.getElementById("enjoy-css") as HTMLInputElement;
      if (enjoyCss.style.display === "none") {
        enjoyCss.style.display = "block"; // æ˜¾ç¤º enjoy-css å…ƒç´ 
      } else {
        enjoyCss.style.display = "none"; // éšè— enjoy-css å…ƒç´ 
      }
    }



    function swipe(){
      let swipe = new Swipe({
          view: view,
          leadingLayers: [G131056,G421032,G511040,,G511191,G511192,G511193,G511194,S217057,S138066],
          trailingLayers: [G131056_shpv,G421032_shpv,G511040_shpv,G511191_shpv,G511192_shpv,G511193_shpv,G511194_shpv,S217057_shpv,S138066_shpv],
          direction: "vertical", // swipe widget will move from top to bottom of view
          position: 50 // position set to middle of the view (50%)
        });
        view.ui.add(swipe);
    }

    function chart1(area1:number,area2:number){
      let customTheme = {
  // åœ¨è¿™é‡Œå®šä¹‰ä½ çš„ä¸»é¢?
  backgroundColor: 'rgba(100,206,242,0.1)', // ç•¥å¾®é€æ˜çš„è“è‰²èƒŒæ™?
  // å…¶ä»–ä¸»é¢˜è®¾ç½®...
};
      let chart = echarts.init(document.getElementById("chart1"), customTheme);
            // æŠŠé…ç½®å’Œæ•°æ®æ”¾è¿™é‡?
            chart.setOption({
  series: [
    {
      type: 'pie',
      title: {
          text: 'ECharts å…¥é—¨ç¤ºä¾‹'
        },
        label: {
                normal: {
                    formatter: '{b}:{c}' + 'å…¬é¡·' + '\n\r' + '({d}%)',
                    show: true,
                    position: 'left'
                },
                emphasis: {
                    show: true,
                    textStyle: {
                        fontSize: '30',
                        fontWeight: 'bold'
                    }
                }
            },
      data: [
        {
          value: area1 - area2,
          name: 'å·²å¼€å‘é¢ç§?'
        },
        {
          value: area2,
          name: 'æœªå¼€å‘é¢ç§?'
        },
      ],
      radius: '50%'
    }
  ]
});

    }

    function closeChart(){
      let chart = echarts.getInstanceByDom(document.getElementById("chart1") as HTMLInputElement);
      let button=document.getElementById('chart1_button') as HTMLInputElement;
      button.style.display='none'
      let chart1=document.getElementById('chart1') as HTMLInputElement;
      chart1.style.zIndex = '-1';
      if (chart) {
        echarts.dispose(chart);
      }
    }

    function toThreeD(){
      router.push("./ThreeD")
    }
</script>

<style  lang="less">

.mapView {
  width: 100vw;
  height: 100vh;
  top: 0; 
  bottom: 0;
	left: 0;
	right: 0;
  position: fixed;
}
#measure{
  top: 140px; 
  bottom: 0;
	right: 14px;
  position: absolute;
}



#enjoy-css {
  position: absolute;
  top: 160px; 
  bottom: 0;
	right: 0px;
  width: 350px;
  height: 330px;
  margin: 46px;
  border: 2px solid rgba(0, 0, 0, 0.91);
  -webkit-border-radius: 14px;
  border-radius: 14px;
  font: normal 14px/1 "Times New Roman", Times, serif;
  color: rgba(0,0,0,1);
  background-color: rgb(255, 255, 255);
  #checkFont {
    left: 150px;
    top: 5px;
    position: absolute;
    display: flex;
    justify-content: space-between;
    gap: 9px;
    font-style: initial;
}
  #check{
    left: 10px;
    top: 10px;
    position: absolute;
  }
  
}
#chart1_button {
    left: 340px;
    top: 25px;
    position: absolute;
    z-index: 5;
    display: none;
}

#chart1{
  display: "";
  position: absolute;
  z-index: -1;
  width: 375px;
  height: 250px;
  top:4%;
  left: 2%;
}

#check .ant-form-item {
    margin-bottom: 3px;
}
</style>../class/twod/drawLine../class/twod/drawPolygon../class/TwoD/drawLine../class/TwoD/drawPolygon